websockets.client 2025-08-21 00:40:50,959 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:40:51,047 - DEBUG - parse:599 - < PONG 7c a3 c4 a3 [binary, 4 bytes]
websockets.client 2025-08-21 00:40:51,047 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:41:10,961 - DEBUG - send_frame:745 - > PING 86 05 4a 10 [binary, 4 bytes]
websockets.client 2025-08-21 00:41:10,965 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:41:11,051 - DEBUG - parse:599 - < PONG 86 05 4a 10 [binary, 4 bytes]
websockets.client 2025-08-21 00:41:11,052 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:41:30,962 - DEBUG - send_frame:745 - > PING ');Ɋ' [text, 4 bytes]
websockets.client 2025-08-21 00:41:30,964 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:41:31,053 - DEBUG - parse:599 - < PONG ');Ɋ' [text, 4 bytes]
websockets.client 2025-08-21 00:41:31,054 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:41:50,964 - DEBUG - send_frame:745 - > PING 27 8e d2 15 [binary, 4 bytes]
websockets.client 2025-08-21 00:41:50,965 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:41:51,053 - DEBUG - parse:599 - < PONG 27 8e d2 15 [binary, 4 bytes]
websockets.client 2025-08-21 00:41:51,054 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:42:10,965 - DEBUG - send_frame:745 - > PING c7 68 aa 28 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:10,966 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:42:11,057 - DEBUG - parse:599 - < PONG c7 68 aa 28 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:11,058 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:42:30,967 - DEBUG - send_frame:745 - > PING 82 8c 41 61 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:30,967 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:42:31,055 - DEBUG - parse:599 - < PONG 82 8c 41 61 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:31,055 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:42:50,969 - DEBUG - send_frame:745 - > PING 7a 77 c6 34 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:50,969 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:42:51,057 - DEBUG - parse:599 - < PONG 7a 77 c6 34 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:51,058 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:43:10,970 - DEBUG - send_frame:745 - > PING db 5a ce 22 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:10,972 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:43:11,059 - DEBUG - parse:599 - < PONG db 5a ce 22 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:11,059 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:43:30,971 - DEBUG - send_frame:745 - > PING 2d 4d f1 66 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:30,971 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:43:31,060 - DEBUG - parse:599 - < PONG 2d 4d f1 66 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:31,060 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:43:50,972 - DEBUG - send_frame:745 - > PING 1e b7 98 62 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:50,973 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:43:51,062 - DEBUG - parse:599 - < PONG 1e b7 98 62 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:51,064 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:44:10,974 - DEBUG - send_frame:745 - > PING 53 fa 37 3b [binary, 4 bytes]
websockets.client 2025-08-21 00:44:10,974 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:44:11,062 - DEBUG - parse:599 - < PONG 53 fa 37 3b [binary, 4 bytes]
websockets.client 2025-08-21 00:44:11,062 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:44:30,976 - DEBUG - send_frame:745 - > PING 4a 89 34 f0 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:30,976 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:44:31,065 - DEBUG - parse:599 - < PONG 4a 89 34 f0 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:31,066 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:44:50,978 - DEBUG - send_frame:745 - > PING 34 f6 2f f5 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:50,979 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:44:51,067 - DEBUG - parse:599 - < PONG 34 f6 2f f5 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:51,067 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:45:10,981 - DEBUG - send_frame:745 - > PING d9 bf 0f 8e [binary, 4 bytes]
websockets.client 2025-08-21 00:45:10,982 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:45:11,070 - DEBUG - parse:599 - < PONG d9 bf 0f 8e [binary, 4 bytes]
websockets.client 2025-08-21 00:45:11,072 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:45:30,985 - DEBUG - send_frame:745 - > PING d8 a9 1a 9e [binary, 4 bytes]
websockets.client 2025-08-21 00:45:30,988 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:45:31,074 - DEBUG - parse:599 - < PONG d8 a9 1a 9e [binary, 4 bytes]
websockets.client 2025-08-21 00:45:31,075 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:45:50,985 - DEBUG - send_frame:745 - > PING c0 a3 00 a9 [binary, 4 bytes]
websockets.client 2025-08-21 00:45:50,985 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:45:51,074 - DEBUG - parse:599 - < PONG c0 a3 00 a9 [binary, 4 bytes]
websockets.client 2025-08-21 00:45:51,074 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:46:10,986 - DEBUG - send_frame:745 - > PING ae a6 c9 0f [binary, 4 bytes]
websockets.client 2025-08-21 00:46:10,987 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:46:11,075 - DEBUG - parse:599 - < PONG ae a6 c9 0f [binary, 4 bytes]
websockets.client 2025-08-21 00:46:11,075 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:46:30,988 - DEBUG - send_frame:745 - > PING '\rul\x11' [text, 4 bytes]
websockets.client 2025-08-21 00:46:30,988 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:46:31,076 - DEBUG - parse:599 - < PONG '\rul\x11' [text, 4 bytes]
websockets.client 2025-08-21 00:46:31,076 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:46:50,989 - DEBUG - send_frame:745 - > PING 83 18 ac ff [binary, 4 bytes]
websockets.client 2025-08-21 00:46:50,989 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:46:51,077 - DEBUG - parse:599 - < PONG 83 18 ac ff [binary, 4 bytes]
websockets.client 2025-08-21 00:46:51,077 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:47:10,990 - DEBUG - send_frame:745 - > PING 'z;X\x0e' [text, 4 bytes]
websockets.client 2025-08-21 00:47:10,990 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:47:11,077 - DEBUG - parse:599 - < PONG 'z;X\x0e' [text, 4 bytes]
websockets.client 2025-08-21 00:47:11,078 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:47:30,991 - DEBUG - send_frame:745 - > PING c3 70 3d eb [binary, 4 bytes]
websockets.client 2025-08-21 00:47:30,992 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:47:31,041 - DEBUG - parse:599 - < CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:47:31,041 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:47:31,041 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 00:47:31,132 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 00:47:31,132 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 00:47:31,133 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 00:47:31,134 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 00:47:31,134 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
livekit.plugins.google 2025-08-21 00:47:31,137 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 00:47:31,137 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 00:47:31,215 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 00:47:31,308 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 00:47:31,308 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 00:47:31,308 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 00:47:31,308 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 00:47:31,308 - DEBUG - send_request:294 - > Sec-WebSocket-Key: f3z5T7fzPCrjNK92Zxn/1g==
websockets.client 2025-08-21 00:47:31,309 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 00:47:31,309 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 00:47:31,309 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 00:47:31,309 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 00:47:31,309 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:47:31,309 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:47:31,477 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 00:47:31,478 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 00:47:31,478 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 00:47:31,478 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 00:47:31,478 - DEBUG - parse:320 - < Sec-WebSocket-Accept: FXd76LreUM7FDp14BWLVKkNdTyM=
websockets.client 2025-08-21 00:47:31,478 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 21:47:31 GMT
websockets.client 2025-08-21 00:47:31,478 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=93
websockets.client 2025-08-21 00:47:31,479 - DEBUG - parse:320 - < Set-Cookie: S==bCBrVWnIyPHc4ZW0Vks8KxHxC5dD_peAC7smAHWLwXk; path=/; priority=low
websockets.client 2025-08-21 00:47:31,479 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 00:47:31,479 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 00:47:31,479 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 00:47:31,753 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 00:47:31,753 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 00:47:31,754 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 00:47:51,485 - DEBUG - send_frame:745 - > PING ff 7a 3c 55 [binary, 4 bytes]
websockets.client 2025-08-21 00:47:51,486 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:47:51,575 - DEBUG - parse:599 - < PONG ff 7a 3c 55 [binary, 4 bytes]
websockets.client 2025-08-21 00:47:51,577 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:48:11,488 - DEBUG - send_frame:745 - > PING bb da 02 b0 [binary, 4 bytes]
websockets.client 2025-08-21 00:48:11,489 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:48:11,577 - DEBUG - parse:599 - < PONG bb da 02 b0 [binary, 4 bytes]
websockets.client 2025-08-21 00:48:11,578 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:48:31,492 - DEBUG - send_frame:745 - > PING e2 4f b1 0a [binary, 4 bytes]
websockets.client 2025-08-21 00:48:31,494 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:48:31,584 - DEBUG - parse:599 - < PONG e2 4f b1 0a [binary, 4 bytes]
websockets.client 2025-08-21 00:48:31,585 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:48:51,493 - DEBUG - send_frame:745 - > PING 25 cd 22 36 [binary, 4 bytes]
websockets.client 2025-08-21 00:48:51,495 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:48:51,584 - DEBUG - parse:599 - < PONG 25 cd 22 36 [binary, 4 bytes]
websockets.client 2025-08-21 00:48:51,585 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:49:11,495 - DEBUG - send_frame:745 - > PING 03 12 f3 86 [binary, 4 bytes]
websockets.client 2025-08-21 00:49:11,496 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:49:11,587 - DEBUG - parse:599 - < PONG 03 12 f3 86 [binary, 4 bytes]
websockets.client 2025-08-21 00:49:11,587 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:49:31,496 - DEBUG - send_frame:745 - > PING '\x14\x04}|' [text, 4 bytes]
websockets.client 2025-08-21 00:49:31,499 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:49:31,586 - DEBUG - parse:599 - < PONG '\x14\x04}|' [text, 4 bytes]
websockets.client 2025-08-21 00:49:31,587 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:49:51,499 - DEBUG - send_frame:745 - > PING 5e c5 98 ba [binary, 4 bytes]
websockets.client 2025-08-21 00:49:51,500 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:49:51,590 - DEBUG - parse:599 - < PONG 5e c5 98 ba [binary, 4 bytes]
websockets.client 2025-08-21 00:49:51,591 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:50:11,501 - DEBUG - send_frame:745 - > PING 90 b1 fa 44 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:11,502 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:50:11,591 - DEBUG - parse:599 - < PONG 90 b1 fa 44 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:11,592 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:50:31,503 - DEBUG - send_frame:745 - > PING 8d 19 60 41 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:31,505 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:50:31,594 - DEBUG - parse:599 - < PONG 8d 19 60 41 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:31,594 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:50:51,505 - DEBUG - send_frame:745 - > PING ee 2b 47 df [binary, 4 bytes]
websockets.client 2025-08-21 00:50:51,505 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:50:51,592 - DEBUG - parse:599 - < PONG ee 2b 47 df [binary, 4 bytes]
websockets.client 2025-08-21 00:50:51,593 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:51:11,506 - DEBUG - send_frame:745 - > PING f6 3f d0 34 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:11,506 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:51:11,595 - DEBUG - parse:599 - < PONG f6 3f d0 34 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:11,596 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:51:31,508 - DEBUG - send_frame:745 - > PING e6 31 64 d5 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:31,509 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:51:31,597 - DEBUG - parse:599 - < PONG e6 31 64 d5 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:31,598 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:51:51,509 - DEBUG - send_frame:745 - > PING 34 c5 eb f1 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:51,510 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:51:51,599 - DEBUG - parse:599 - < PONG 34 c5 eb f1 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:51,599 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:52:11,511 - DEBUG - send_frame:745 - > PING 7b eb 34 5a [binary, 4 bytes]
websockets.client 2025-08-21 00:52:11,512 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:52:11,601 - DEBUG - parse:599 - < PONG 7b eb 34 5a [binary, 4 bytes]
websockets.client 2025-08-21 00:52:11,604 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:52:31,515 - DEBUG - send_frame:745 - > PING 3f a0 77 7a [binary, 4 bytes]
websockets.client 2025-08-21 00:52:31,516 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:52:31,604 - DEBUG - parse:599 - < PONG 3f a0 77 7a [binary, 4 bytes]
websockets.client 2025-08-21 00:52:31,605 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:52:51,517 - DEBUG - send_frame:745 - > PING 11 7e aa eb [binary, 4 bytes]
websockets.client 2025-08-21 00:52:51,517 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:52:51,605 - DEBUG - parse:599 - < PONG 11 7e aa eb [binary, 4 bytes]
websockets.client 2025-08-21 00:52:51,605 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:53:11,519 - DEBUG - send_frame:745 - > PING df 1d 39 9c [binary, 4 bytes]
websockets.client 2025-08-21 00:53:11,521 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:53:11,615 - DEBUG - parse:599 - < PONG df 1d 39 9c [binary, 4 bytes]
websockets.client 2025-08-21 00:53:11,616 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:53:31,520 - DEBUG - send_frame:745 - > PING e8 0c 3b 0f [binary, 4 bytes]
websockets.client 2025-08-21 00:53:31,521 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:53:31,614 - DEBUG - parse:599 - < PONG e8 0c 3b 0f [binary, 4 bytes]
websockets.client 2025-08-21 00:53:31,616 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:53:51,522 - DEBUG - send_frame:745 - > PING 07 4c f8 46 [binary, 4 bytes]
websockets.client 2025-08-21 00:53:51,526 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:53:51,614 - DEBUG - parse:599 - < PONG 07 4c f8 46 [binary, 4 bytes]
websockets.client 2025-08-21 00:53:51,615 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:54:11,523 - DEBUG - send_frame:745 - > PING 0e b7 2e 5c [binary, 4 bytes]
websockets.client 2025-08-21 00:54:11,524 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:54:11,614 - DEBUG - parse:599 - < PONG 0e b7 2e 5c [binary, 4 bytes]
websockets.client 2025-08-21 00:54:11,614 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:54:31,525 - DEBUG - send_frame:745 - > PING 34 0b fc 54 [binary, 4 bytes]
websockets.client 2025-08-21 00:54:31,526 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:54:31,616 - DEBUG - parse:599 - < PONG 34 0b fc 54 [binary, 4 bytes]
websockets.client 2025-08-21 00:54:31,617 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:54:51,526 - DEBUG - send_frame:745 - > PING a8 2f 90 ae [binary, 4 bytes]
websockets.client 2025-08-21 00:54:51,528 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:54:51,616 - DEBUG - parse:599 - < PONG a8 2f 90 ae [binary, 4 bytes]
websockets.client 2025-08-21 00:54:51,618 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:55:11,528 - DEBUG - send_frame:745 - > PING 87 36 b3 36 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:11,528 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:55:11,619 - DEBUG - parse:599 - < PONG 87 36 b3 36 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:11,620 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:55:31,530 - DEBUG - send_frame:745 - > PING 88 68 b7 d9 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:31,531 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:55:31,620 - DEBUG - parse:599 - < PONG 88 68 b7 d9 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:31,621 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:55:51,532 - DEBUG - send_frame:745 - > PING 27 c7 39 66 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:51,533 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:55:51,621 - DEBUG - parse:599 - < PONG 27 c7 39 66 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:51,622 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:56:11,534 - DEBUG - send_frame:745 - > PING e6 9a 7c 6b [binary, 4 bytes]
websockets.client 2025-08-21 00:56:11,536 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:56:11,625 - DEBUG - parse:599 - < PONG e6 9a 7c 6b [binary, 4 bytes]
websockets.client 2025-08-21 00:56:11,626 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:56:31,535 - DEBUG - send_frame:745 - > PING ac 90 f4 03 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:31,536 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:56:31,623 - DEBUG - parse:599 - < PONG ac 90 f4 03 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:31,624 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:56:51,537 - DEBUG - send_frame:745 - > PING 32 21 92 26 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:51,539 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:56:51,627 - DEBUG - parse:599 - < PONG 32 21 92 26 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:51,628 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:57:11,539 - DEBUG - send_frame:745 - > PING 74 59 e2 68 [binary, 4 bytes]
websockets.client 2025-08-21 00:57:11,540 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:57:11,629 - DEBUG - parse:599 - < PONG 74 59 e2 68 [binary, 4 bytes]
websockets.client 2025-08-21 00:57:11,629 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:57:31,540 - DEBUG - send_frame:745 - > PING c6 d5 01 0b [binary, 4 bytes]
websockets.client 2025-08-21 00:57:31,541 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:57:31,587 - DEBUG - parse:599 - < CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:57:31,587 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:57:31,588 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 00:57:31,676 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 00:57:31,676 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 00:57:31,676 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 00:57:31,676 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 00:57:31,677 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
livekit.plugins.google 2025-08-21 00:57:31,678 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 00:57:31,678 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 00:57:31,754 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 00:57:31,847 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 00:57:31,847 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 00:57:31,847 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 00:57:31,847 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 00:57:31,847 - DEBUG - send_request:294 - > Sec-WebSocket-Key: gUWM0f09kvybU7xhQJeYkg==
websockets.client 2025-08-21 00:57:31,847 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 00:57:31,847 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 00:57:31,848 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 00:57:31,848 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 00:57:31,848 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:57:31,848 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:57:32,011 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < Sec-WebSocket-Accept: wMlQAvhO7WBB8jZpEVZO/V83wL8=
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 21:57:31 GMT
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=89
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < Set-Cookie: S==iRAY7HxIqeWrBVV5q8hHN4y_4rHY0e_TypaAjAL54zs; path=/; priority=low
websockets.client 2025-08-21 00:57:32,012 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 00:57:32,012 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 00:57:32,013 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 00:57:32,239 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 00:57:32,240 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 00:57:32,240 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 00:57:52,014 - DEBUG - send_frame:745 - > PING 8f 1e 30 55 [binary, 4 bytes]
websockets.client 2025-08-21 00:57:52,014 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:57:52,103 - DEBUG - parse:599 - < PONG 8f 1e 30 55 [binary, 4 bytes]
websockets.client 2025-08-21 00:57:52,103 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:58:12,015 - DEBUG - send_frame:745 - > PING cf 2e ce b4 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:12,017 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:58:12,105 - DEBUG - parse:599 - < PONG cf 2e ce b4 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:12,106 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:58:32,017 - DEBUG - send_frame:745 - > PING 45 1f b9 81 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:32,017 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:58:32,105 - DEBUG - parse:599 - < PONG 45 1f b9 81 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:32,105 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:58:52,019 - DEBUG - send_frame:745 - > PING 4d 5d ac 18 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:52,020 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:58:52,107 - DEBUG - parse:599 - < PONG 4d 5d ac 18 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:52,108 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:59:12,020 - DEBUG - send_frame:745 - > PING 2c df 7a ca [binary, 4 bytes]
websockets.client 2025-08-21 00:59:12,020 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:59:12,111 - DEBUG - parse:599 - < PONG 2c df 7a ca [binary, 4 bytes]
websockets.client 2025-08-21 00:59:12,111 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:59:32,021 - DEBUG - send_frame:745 - > PING d4 90 70 e1 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:32,022 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:59:32,110 - DEBUG - parse:599 - < PONG d4 90 70 e1 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:32,111 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:59:52,025 - DEBUG - send_frame:745 - > PING 56 23 af 03 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:52,025 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:59:52,113 - DEBUG - parse:599 - < PONG 56 23 af 03 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:52,114 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:00:12,026 - DEBUG - send_frame:745 - > PING 55 81 aa ec [binary, 4 bytes]
websockets.client 2025-08-21 01:00:12,026 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:00:12,115 - DEBUG - parse:599 - < PONG 55 81 aa ec [binary, 4 bytes]
websockets.client 2025-08-21 01:00:12,115 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:00:32,028 - DEBUG - send_frame:745 - > PING 5b 55 91 f0 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:32,029 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:00:32,120 - DEBUG - parse:599 - < PONG 5b 55 91 f0 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:32,121 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:00:52,030 - DEBUG - send_frame:745 - > PING b2 7a 20 51 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:52,031 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:00:52,121 - DEBUG - parse:599 - < PONG b2 7a 20 51 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:52,122 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:01:12,034 - DEBUG - send_frame:745 - > PING d6 cc ac 7b [binary, 4 bytes]
websockets.client 2025-08-21 01:01:12,036 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:01:12,123 - DEBUG - parse:599 - < PONG d6 cc ac 7b [binary, 4 bytes]
websockets.client 2025-08-21 01:01:12,124 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:01:32,036 - DEBUG - send_frame:745 - > PING 13 6f 82 1d [binary, 4 bytes]
websockets.client 2025-08-21 01:01:32,037 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:01:32,126 - DEBUG - parse:599 - < PONG 13 6f 82 1d [binary, 4 bytes]
websockets.client 2025-08-21 01:01:32,127 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:01:52,038 - DEBUG - send_frame:745 - > PING e3 c4 f0 46 [binary, 4 bytes]
websockets.client 2025-08-21 01:01:52,039 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:01:52,128 - DEBUG - parse:599 - < PONG e3 c4 f0 46 [binary, 4 bytes]
websockets.client 2025-08-21 01:01:52,129 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:02:12,039 - DEBUG - send_frame:745 - > PING 4c bc f6 39 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:12,041 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:02:12,130 - DEBUG - parse:599 - < PONG 4c bc f6 39 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:12,131 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:02:32,041 - DEBUG - send_frame:745 - > PING 0a 93 7a 75 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:32,042 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:02:32,130 - DEBUG - parse:599 - < PONG 0a 93 7a 75 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:32,130 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:02:52,043 - DEBUG - send_frame:745 - > PING 9d 05 44 69 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:52,043 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:02:52,131 - DEBUG - parse:599 - < PONG 9d 05 44 69 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:52,131 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:03:12,044 - DEBUG - send_frame:745 - > PING 85 8d 7a b9 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:12,045 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:03:12,133 - DEBUG - parse:599 - < PONG 85 8d 7a b9 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:12,134 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:03:32,047 - DEBUG - send_frame:745 - > PING 2d 78 95 e4 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:32,048 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:03:32,136 - DEBUG - parse:599 - < PONG 2d 78 95 e4 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:32,137 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:03:52,049 - DEBUG - send_frame:745 - > PING e6 15 ca e8 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:52,050 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:03:52,140 - DEBUG - parse:599 - < PONG e6 15 ca e8 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:52,142 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:04:12,051 - DEBUG - send_frame:745 - > PING 'vy\x00G' [text, 4 bytes]
websockets.client 2025-08-21 01:04:12,051 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:04:12,141 - DEBUG - parse:599 - < PONG 'vy\x00G' [text, 4 bytes]
websockets.client 2025-08-21 01:04:12,141 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:04:32,053 - DEBUG - send_frame:745 - > PING f2 83 22 3e [binary, 4 bytes]
websockets.client 2025-08-21 01:04:32,054 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:04:32,142 - DEBUG - parse:599 - < PONG f2 83 22 3e [binary, 4 bytes]
websockets.client 2025-08-21 01:04:32,143 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:04:52,054 - DEBUG - send_frame:745 - > PING 69 3f 66 ce [binary, 4 bytes]
websockets.client 2025-08-21 01:04:52,055 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:04:52,143 - DEBUG - parse:599 - < PONG 69 3f 66 ce [binary, 4 bytes]
websockets.client 2025-08-21 01:04:52,144 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:05:12,056 - DEBUG - send_frame:745 - > PING 75 5d 81 7f [binary, 4 bytes]
websockets.client 2025-08-21 01:05:12,056 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:05:12,146 - DEBUG - parse:599 - < PONG 75 5d 81 7f [binary, 4 bytes]
websockets.client 2025-08-21 01:05:12,147 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:05:32,057 - DEBUG - send_frame:745 - > PING 2d 2a cd 59 [binary, 4 bytes]
websockets.client 2025-08-21 01:05:32,058 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:05:32,148 - DEBUG - parse:599 - < PONG 2d 2a cd 59 [binary, 4 bytes]
websockets.client 2025-08-21 01:05:32,149 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:05:52,058 - DEBUG - send_frame:745 - > PING 2a 28 bd 1c [binary, 4 bytes]
websockets.client 2025-08-21 01:05:52,059 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:05:52,147 - DEBUG - parse:599 - < PONG 2a 28 bd 1c [binary, 4 bytes]
websockets.client 2025-08-21 01:05:52,147 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:06:12,059 - DEBUG - send_frame:745 - > PING 'ۯ\x1bF' [text, 4 bytes]
websockets.client 2025-08-21 01:06:12,060 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:06:12,148 - DEBUG - parse:599 - < PONG 'ۯ\x1bF' [text, 4 bytes]
websockets.client 2025-08-21 01:06:12,148 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:06:32,061 - DEBUG - send_frame:745 - > PING a2 a7 48 dd [binary, 4 bytes]
websockets.client 2025-08-21 01:06:32,062 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:06:32,150 - DEBUG - parse:599 - < PONG a2 a7 48 dd [binary, 4 bytes]
websockets.client 2025-08-21 01:06:32,151 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:06:52,063 - DEBUG - send_frame:745 - > PING 4b a7 d4 fb [binary, 4 bytes]
websockets.client 2025-08-21 01:06:52,063 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:06:52,153 - DEBUG - parse:599 - < PONG 4b a7 d4 fb [binary, 4 bytes]
websockets.client 2025-08-21 01:06:52,154 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:07:12,064 - DEBUG - send_frame:745 - > PING 89 50 b9 91 [binary, 4 bytes]
websockets.client 2025-08-21 01:07:12,065 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:07:12,154 - DEBUG - parse:599 - < PONG 89 50 b9 91 [binary, 4 bytes]
websockets.client 2025-08-21 01:07:12,155 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:07:32,066 - DEBUG - send_frame:745 - > PING 90 cc 97 ff [binary, 4 bytes]
websockets.client 2025-08-21 01:07:32,067 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:07:32,122 - DEBUG - parse:599 - < CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 01:07:32,123 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 01:07:32,123 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:07:32,213 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:07:32,213 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:07:32,213 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:07:32,213 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:07:32,214 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
livekit.plugins.google 2025-08-21 01:07:32,215 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:07:32,216 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:07:32,294 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:07:32,388 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:07:32,389 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:07:32,389 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:07:32,389 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:07:32,389 - DEBUG - send_request:294 - > Sec-WebSocket-Key: 7MrnoRs96TWFrrvrr8aIVQ==
websockets.client 2025-08-21 01:07:32,389 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:07:32,389 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:07:32,390 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:07:32,390 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:07:32,390 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:07:32,390 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:07:32,556 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:07:32,556 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:07:32,556 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:07:32,556 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:07:32,556 - DEBUG - parse:320 - < Sec-WebSocket-Accept: XqPmCA9M4WQrmL/nouIvRyZ2iVo=
websockets.client 2025-08-21 01:07:32,556 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:07:32 GMT
websockets.client 2025-08-21 01:07:32,556 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=92
websockets.client 2025-08-21 01:07:32,557 - DEBUG - parse:320 - < Set-Cookie: S==OIBZmgNNW-eNT47KUJ5tA72pn-qwDUbki7U2LEhmjNw; path=/; priority=low
websockets.client 2025-08-21 01:07:32,557 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:07:32,557 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:07:32,557 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:07:32,818 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 01:07:32,819 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 01:07:32,819 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 01:07:52,560 - DEBUG - send_frame:745 - > PING 23 25 8b 55 [binary, 4 bytes]
websockets.client 2025-08-21 01:07:52,560 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:07:52,648 - DEBUG - parse:599 - < PONG 23 25 8b 55 [binary, 4 bytes]
websockets.client 2025-08-21 01:07:52,648 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:08:12,561 - DEBUG - send_frame:745 - > PING 12 76 91 f5 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:12,564 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:08:12,652 - DEBUG - parse:599 - < PONG 12 76 91 f5 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:12,652 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:08:32,563 - DEBUG - send_frame:745 - > PING 1d 8e 25 21 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:32,564 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:08:32,652 - DEBUG - parse:599 - < PONG 1d 8e 25 21 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:32,652 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:08:52,565 - DEBUG - send_frame:745 - > PING 71 e4 d6 e3 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:52,565 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:08:52,656 - DEBUG - parse:599 - < PONG 71 e4 d6 e3 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:52,657 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:09:12,566 - DEBUG - send_frame:745 - > PING 2b e5 7e 42 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:12,566 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:09:12,656 - DEBUG - parse:599 - < PONG 2b e5 7e 42 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:12,657 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:09:32,584 - DEBUG - send_frame:745 - > PING 39 d3 14 0c [binary, 4 bytes]
websockets.client 2025-08-21 01:09:32,585 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:09:32,674 - DEBUG - parse:599 - < PONG 39 d3 14 0c [binary, 4 bytes]
websockets.client 2025-08-21 01:09:32,675 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:09:52,585 - DEBUG - send_frame:745 - > PING ae 84 89 f4 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:52,586 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:09:52,675 - DEBUG - parse:599 - < PONG ae 84 89 f4 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:52,675 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:10:12,586 - DEBUG - send_frame:745 - > PING 9b f8 ef 82 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:12,587 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:10:12,675 - DEBUG - parse:599 - < PONG 9b f8 ef 82 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:12,676 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:10:32,588 - DEBUG - send_frame:745 - > PING b5 82 d5 32 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:32,588 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:10:32,676 - DEBUG - parse:599 - < PONG b5 82 d5 32 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:32,676 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:10:52,589 - DEBUG - send_frame:745 - > PING e5 06 f9 99 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:52,591 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:10:52,686 - DEBUG - parse:599 - < PONG e5 06 f9 99 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:52,687 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:11:12,591 - DEBUG - send_frame:745 - > PING e7 0a db e5 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:12,591 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:11:12,679 - DEBUG - parse:599 - < PONG e7 0a db e5 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:12,680 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:11:32,592 - DEBUG - send_frame:745 - > PING ed b4 4e 9c [binary, 4 bytes]
websockets.client 2025-08-21 01:11:32,594 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:11:32,682 - DEBUG - parse:599 - < PONG ed b4 4e 9c [binary, 4 bytes]
websockets.client 2025-08-21 01:11:32,682 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:11:52,594 - DEBUG - send_frame:745 - > PING 73 8c 4c 6a [binary, 4 bytes]
websockets.client 2025-08-21 01:11:52,595 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:11:52,683 - DEBUG - parse:599 - < PONG 73 8c 4c 6a [binary, 4 bytes]
websockets.client 2025-08-21 01:11:52,683 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:12:12,595 - DEBUG - send_frame:745 - > PING 9e a0 06 58 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:12,597 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:12:12,687 - DEBUG - parse:599 - < PONG 9e a0 06 58 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:12,689 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:12:32,597 - DEBUG - send_frame:745 - > PING 40 86 c0 89 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:32,600 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:12:32,687 - DEBUG - parse:599 - < PONG 40 86 c0 89 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:32,688 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:12:52,599 - DEBUG - send_frame:745 - > PING 6b e4 45 a5 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:52,602 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:12:52,691 - DEBUG - parse:599 - < PONG 6b e4 45 a5 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:52,692 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:13:12,601 - DEBUG - send_frame:745 - > PING 91 91 b1 4e [binary, 4 bytes]
websockets.client 2025-08-21 01:13:12,603 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:13:12,691 - DEBUG - parse:599 - < PONG 91 91 b1 4e [binary, 4 bytes]
websockets.client 2025-08-21 01:13:12,692 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:13:32,603 - DEBUG - send_frame:745 - > PING 06 57 18 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:32,604 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:13:32,692 - DEBUG - parse:599 - < PONG 06 57 18 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:32,696 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:13:52,609 - DEBUG - send_frame:745 - > PING 91 de db 65 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:52,611 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:13:52,698 - DEBUG - parse:599 - < PONG 91 de db 65 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:52,699 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:14:12,611 - DEBUG - send_frame:745 - > PING 83 59 a3 8e [binary, 4 bytes]
websockets.client 2025-08-21 01:14:12,612 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:14:12,700 - DEBUG - parse:599 - < PONG 83 59 a3 8e [binary, 4 bytes]
websockets.client 2025-08-21 01:14:12,700 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:14:32,612 - DEBUG - send_frame:745 - > PING '\x05݆6' [text, 4 bytes]
websockets.client 2025-08-21 01:14:32,615 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:14:32,704 - DEBUG - parse:599 - < PONG '\x05݆6' [text, 4 bytes]
websockets.client 2025-08-21 01:14:32,705 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:14:52,614 - DEBUG - send_frame:745 - > PING 0a 80 a3 5f [binary, 4 bytes]
websockets.client 2025-08-21 01:14:52,616 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:14:52,778 - DEBUG - parse:599 - < PONG 0a 80 a3 5f [binary, 4 bytes]
websockets.client 2025-08-21 01:14:52,783 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:15:12,620 - DEBUG - send_frame:745 - > PING cf f3 97 e4 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:12,622 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:15:12,712 - DEBUG - parse:599 - < PONG cf f3 97 e4 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:12,713 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:15:32,622 - DEBUG - send_frame:745 - > PING ad c4 31 ad [binary, 4 bytes]
websockets.client 2025-08-21 01:15:32,623 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:15:32,711 - DEBUG - parse:599 - < PONG ad c4 31 ad [binary, 4 bytes]
websockets.client 2025-08-21 01:15:32,712 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:15:52,624 - DEBUG - send_frame:745 - > PING c5 3d 00 49 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:52,625 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:15:52,713 - DEBUG - parse:599 - < PONG c5 3d 00 49 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:52,714 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:16:12,626 - DEBUG - send_frame:745 - > PING 5e 79 b1 aa [binary, 4 bytes]
websockets.client 2025-08-21 01:16:12,627 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:16:12,715 - DEBUG - parse:599 - < PONG 5e 79 b1 aa [binary, 4 bytes]
websockets.client 2025-08-21 01:16:12,716 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:16:32,628 - DEBUG - send_frame:745 - > PING 10 eb 74 31 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:32,628 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:16:32,716 - DEBUG - parse:599 - < PONG 10 eb 74 31 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:32,716 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:16:52,629 - DEBUG - send_frame:745 - > PING 1d 58 59 90 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:52,630 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:16:52,717 - DEBUG - parse:599 - < PONG 1d 58 59 90 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:52,718 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:17:12,631 - DEBUG - send_frame:745 - > PING 21 78 a1 c1 [binary, 4 bytes]
websockets.client 2025-08-21 01:17:12,631 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:17:12,718 - DEBUG - parse:599 - < PONG 21 78 a1 c1 [binary, 4 bytes]
websockets.client 2025-08-21 01:17:12,719 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:17:32,633 - DEBUG - send_frame:745 - > PING 83 75 de f4 [binary, 4 bytes]
websockets.client 2025-08-21 01:17:32,638 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:17:32,666 - DEBUG - parse:599 - < CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 01:17:32,666 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 01:17:32,666 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:17:32,753 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:17:32,754 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:17:32,754 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:17:32,754 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:17:32,754 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
livekit.plugins.google 2025-08-21 01:17:32,755 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:17:32,756 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:17:32,833 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:17:32,930 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:17:32,930 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:17:32,930 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > Sec-WebSocket-Key: 64yXLBY2pqimZmisog+5cQ==
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:17:32,931 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:17:33,021 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < Sec-WebSocket-Accept: CqVpSXC5mvSikAmcRAnWxR+xZtk=
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:17:32 GMT
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=16
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < Set-Cookie: S==9qmGHm8uJsc3lIheTEI6RCpd-ub17aFzmMQ2JoIIbrw; path=/; priority=low
websockets.client 2025-08-21 01:17:33,022 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:17:33,022 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:17:33,022 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:17:33,309 - DEBUG - parse:599 - < CLOSE 1008 (policy violation) BidiGenerateContent session not found [39 bytes]
websockets.client 2025-08-21 01:17:33,309 - DEBUG - send_frame:745 - > CLOSE 1008 (policy violation) BidiGenerateContent session not found [39 bytes]
websockets.client 2025-08-21 01:17:33,309 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:17:33,398 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:17:33,398 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:17:33,398 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:17:33,399 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:17:33,399 - ERROR - _main_task:635 - Gemini Realtime API error: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 591, in _main_task
    async with self._client.aio.live.connect(
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model=self._opts.model, config=config
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as session:
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 1057, in connect
    logger.info(await ws.recv(decode=False))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found
livekit.agents 2025-08-21 01:17:33,403 - ERROR - _on_error:888 - AgentSession is closing due to unrecoverable error
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 591, in _main_task
    async with self._client.aio.live.connect(
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model=self._opts.model, config=config
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as session:
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 1057, in connect
    logger.info(await ws.recv(decode=False))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found
livekit.plugins.google 2025-08-21 01:17:33,404 - ERROR - async_fn_logs:21 - Error in _main_task
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 591, in _main_task
    async with self._client.aio.live.connect(
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model=self._opts.model, config=config
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as session:
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 1057, in connect
    logger.info(await ws.recv(decode=False))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 641, in _main_task
    raise APIConnectionError(message="Failed to connect to Gemini Live") from e
livekit.agents._exceptions.APIConnectionError: Failed to connect to Gemini Live (body=None, retryable=True)

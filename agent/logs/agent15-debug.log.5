websockets.client 2025-08-21 00:40:36,860 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:40:36,949 - DEBUG - parse:599 - < PONG 'U\x0f<\x1e' [text, 4 bytes]
websockets.client 2025-08-21 00:40:36,949 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:40:56,861 - DEBUG - send_frame:745 - > PING 73 e0 f3 2e [binary, 4 bytes]
websockets.client 2025-08-21 00:40:56,862 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:40:56,950 - DEBUG - parse:599 - < PONG 73 e0 f3 2e [binary, 4 bytes]
websockets.client 2025-08-21 00:40:56,950 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:41:16,869 - DEBUG - send_frame:745 - > PING c9 8c 4d ba [binary, 4 bytes]
websockets.client 2025-08-21 00:41:16,870 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:41:16,960 - DEBUG - parse:599 - < PONG c9 8c 4d ba [binary, 4 bytes]
websockets.client 2025-08-21 00:41:16,961 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:41:36,871 - DEBUG - send_frame:745 - > PING 4b de 84 ad [binary, 4 bytes]
websockets.client 2025-08-21 00:41:36,872 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:41:36,960 - DEBUG - parse:599 - < PONG 4b de 84 ad [binary, 4 bytes]
websockets.client 2025-08-21 00:41:36,960 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:41:56,872 - DEBUG - send_frame:745 - > PING 87 e9 6b 2f [binary, 4 bytes]
websockets.client 2025-08-21 00:41:56,873 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:41:56,962 - DEBUG - parse:599 - < PONG 87 e9 6b 2f [binary, 4 bytes]
websockets.client 2025-08-21 00:41:56,963 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:42:16,875 - DEBUG - send_frame:745 - > PING 55 d5 9c d2 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:16,875 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:42:16,964 - DEBUG - parse:599 - < PONG 55 d5 9c d2 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:16,964 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:42:36,876 - DEBUG - send_frame:745 - > PING 24 c2 f0 4e [binary, 4 bytes]
websockets.client 2025-08-21 00:42:36,877 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:42:36,965 - DEBUG - parse:599 - < PONG 24 c2 f0 4e [binary, 4 bytes]
websockets.client 2025-08-21 00:42:36,966 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:42:56,877 - DEBUG - send_frame:745 - > PING 27 41 c9 42 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:56,878 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:42:56,965 - DEBUG - parse:599 - < PONG 27 41 c9 42 [binary, 4 bytes]
websockets.client 2025-08-21 00:42:56,967 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:43:16,879 - DEBUG - send_frame:745 - > PING 34 77 30 bb [binary, 4 bytes]
websockets.client 2025-08-21 00:43:16,879 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:43:16,979 - DEBUG - parse:599 - < PONG 34 77 30 bb [binary, 4 bytes]
websockets.client 2025-08-21 00:43:16,979 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:43:36,880 - DEBUG - send_frame:745 - > PING f1 a1 3e 69 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:36,881 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:43:36,969 - DEBUG - parse:599 - < PONG f1 a1 3e 69 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:36,970 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:43:56,882 - DEBUG - send_frame:745 - > PING b8 0d 23 e0 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:56,889 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:43:56,977 - DEBUG - parse:599 - < PONG b8 0d 23 e0 [binary, 4 bytes]
websockets.client 2025-08-21 00:43:56,978 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:44:16,883 - DEBUG - send_frame:745 - > PING 12 70 a1 d1 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:16,884 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:44:16,974 - DEBUG - parse:599 - < PONG 12 70 a1 d1 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:16,974 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:44:36,885 - DEBUG - send_frame:745 - > PING 4e 7f 6d b1 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:36,885 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:44:36,973 - DEBUG - parse:599 - < PONG 4e 7f 6d b1 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:36,974 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:44:56,887 - DEBUG - send_frame:745 - > PING 9f 51 f1 e2 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:56,888 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:44:56,976 - DEBUG - parse:599 - < PONG 9f 51 f1 e2 [binary, 4 bytes]
websockets.client 2025-08-21 00:44:56,976 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:45:16,887 - DEBUG - send_frame:745 - > PING 02 f3 a3 7e [binary, 4 bytes]
websockets.client 2025-08-21 00:45:16,888 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:45:16,976 - DEBUG - parse:599 - < PONG 02 f3 a3 7e [binary, 4 bytes]
websockets.client 2025-08-21 00:45:16,976 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:45:36,888 - DEBUG - send_frame:745 - > PING ca f4 35 eb [binary, 4 bytes]
websockets.client 2025-08-21 00:45:36,888 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:45:36,976 - DEBUG - parse:599 - < PONG ca f4 35 eb [binary, 4 bytes]
websockets.client 2025-08-21 00:45:36,977 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:45:56,889 - DEBUG - send_frame:745 - > PING aa 17 d7 74 [binary, 4 bytes]
websockets.client 2025-08-21 00:45:56,892 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:45:56,983 - DEBUG - parse:599 - < PONG aa 17 d7 74 [binary, 4 bytes]
websockets.client 2025-08-21 00:45:56,983 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:46:16,891 - DEBUG - send_frame:745 - > PING 4b 3b 60 d9 [binary, 4 bytes]
websockets.client 2025-08-21 00:46:16,892 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:46:16,980 - DEBUG - parse:599 - < PONG 4b 3b 60 d9 [binary, 4 bytes]
websockets.client 2025-08-21 00:46:16,981 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:46:36,893 - DEBUG - send_frame:745 - > PING 27 17 37 92 [binary, 4 bytes]
websockets.client 2025-08-21 00:46:36,894 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:46:36,987 - DEBUG - parse:599 - < PONG 27 17 37 92 [binary, 4 bytes]
websockets.client 2025-08-21 00:46:36,988 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:46:56,895 - DEBUG - send_frame:745 - > PING ec 0e 6c 34 [binary, 4 bytes]
websockets.client 2025-08-21 00:46:56,896 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:46:56,985 - DEBUG - parse:599 - < PONG ec 0e 6c 34 [binary, 4 bytes]
websockets.client 2025-08-21 00:46:56,986 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:47:16,896 - DEBUG - send_frame:745 - > PING c8 68 99 5f [binary, 4 bytes]
websockets.client 2025-08-21 00:47:16,896 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:47:16,984 - DEBUG - parse:599 - < PONG c8 68 99 5f [binary, 4 bytes]
websockets.client 2025-08-21 00:47:16,985 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:47:36,897 - DEBUG - send_frame:745 - > PING 49 74 86 cc [binary, 4 bytes]
websockets.client 2025-08-21 00:47:36,899 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:47:36,926 - DEBUG - parse:599 - < CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:47:36,927 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:47:36,927 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 00:47:37,017 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 00:47:37,018 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 00:47:37,018 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 00:47:37,018 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 00:47:37,019 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
livekit.plugins.google 2025-08-21 00:47:37,020 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 00:47:37,020 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 00:47:37,098 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > Sec-WebSocket-Key: 5r8Juq+tXVSuwC3QYoAfNw==
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:47:37,192 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:47:37,355 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < Sec-WebSocket-Accept: aQVEH398VdwWPFJZf7TYRCSl1Ws=
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 21:47:37 GMT
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=89
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < Set-Cookie: S==fEih46sgmsZ2hvQvMeLgak21GggIfrQynQW76Z_czXE; path=/; priority=low
websockets.client 2025-08-21 00:47:37,356 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 00:47:37,356 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 00:47:37,356 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 00:47:37,624 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 00:47:37,625 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 00:47:37,626 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 00:47:57,358 - DEBUG - send_frame:745 - > PING 87 3a a5 ab [binary, 4 bytes]
websockets.client 2025-08-21 00:47:57,358 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:47:57,445 - DEBUG - parse:599 - < PONG 87 3a a5 ab [binary, 4 bytes]
websockets.client 2025-08-21 00:47:57,446 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:48:17,360 - DEBUG - send_frame:745 - > PING dc 39 0c 9c [binary, 4 bytes]
websockets.client 2025-08-21 00:48:17,363 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:48:17,453 - DEBUG - parse:599 - < PONG dc 39 0c 9c [binary, 4 bytes]
websockets.client 2025-08-21 00:48:17,454 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:48:37,362 - DEBUG - send_frame:745 - > PING c3 8e f8 ab [binary, 4 bytes]
websockets.client 2025-08-21 00:48:37,363 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:48:37,452 - DEBUG - parse:599 - < PONG c3 8e f8 ab [binary, 4 bytes]
websockets.client 2025-08-21 00:48:37,453 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:48:57,365 - DEBUG - send_frame:745 - > PING 57 5d 23 84 [binary, 4 bytes]
websockets.client 2025-08-21 00:48:57,365 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:48:57,454 - DEBUG - parse:599 - < PONG 57 5d 23 84 [binary, 4 bytes]
websockets.client 2025-08-21 00:48:57,455 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:49:17,366 - DEBUG - send_frame:745 - > PING '<q\x17(' [text, 4 bytes]
websockets.client 2025-08-21 00:49:17,366 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:49:17,454 - DEBUG - parse:599 - < PONG '<q\x17(' [text, 4 bytes]
websockets.client 2025-08-21 00:49:17,455 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:49:37,368 - DEBUG - send_frame:745 - > PING 03 a3 b7 17 [binary, 4 bytes]
websockets.client 2025-08-21 00:49:37,369 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:49:37,459 - DEBUG - parse:599 - < PONG 03 a3 b7 17 [binary, 4 bytes]
websockets.client 2025-08-21 00:49:37,463 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:49:57,371 - DEBUG - send_frame:745 - > PING 59 af 49 e5 [binary, 4 bytes]
websockets.client 2025-08-21 00:49:57,374 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:49:57,462 - DEBUG - parse:599 - < PONG 59 af 49 e5 [binary, 4 bytes]
websockets.client 2025-08-21 00:49:57,463 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:50:17,373 - DEBUG - send_frame:745 - > PING d6 63 d0 d4 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:17,377 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:50:17,465 - DEBUG - parse:599 - < PONG d6 63 d0 d4 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:17,466 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:50:37,375 - DEBUG - send_frame:745 - > PING 80 68 0c 01 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:37,375 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:50:37,465 - DEBUG - parse:599 - < PONG 80 68 0c 01 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:37,465 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:50:57,377 - DEBUG - send_frame:745 - > PING 3f 2a f3 85 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:57,379 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:50:57,466 - DEBUG - parse:599 - < PONG 3f 2a f3 85 [binary, 4 bytes]
websockets.client 2025-08-21 00:50:57,467 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:51:17,378 - DEBUG - send_frame:745 - > PING f5 c5 b7 4c [binary, 4 bytes]
websockets.client 2025-08-21 00:51:17,378 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:51:17,470 - DEBUG - parse:599 - < PONG f5 c5 b7 4c [binary, 4 bytes]
websockets.client 2025-08-21 00:51:17,472 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:51:37,381 - DEBUG - send_frame:745 - > PING b6 58 97 8b [binary, 4 bytes]
websockets.client 2025-08-21 00:51:37,385 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:51:37,476 - DEBUG - parse:599 - < PONG b6 58 97 8b [binary, 4 bytes]
websockets.client 2025-08-21 00:51:37,476 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:51:57,383 - DEBUG - send_frame:745 - > PING dd dd e3 24 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:57,383 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:51:57,471 - DEBUG - parse:599 - < PONG dd dd e3 24 [binary, 4 bytes]
websockets.client 2025-08-21 00:51:57,472 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:52:17,384 - DEBUG - send_frame:745 - > PING a8 87 9f 7c [binary, 4 bytes]
websockets.client 2025-08-21 00:52:17,386 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:52:17,474 - DEBUG - parse:599 - < PONG a8 87 9f 7c [binary, 4 bytes]
websockets.client 2025-08-21 00:52:17,474 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:52:37,385 - DEBUG - send_frame:745 - > PING 98 d8 0f b2 [binary, 4 bytes]
websockets.client 2025-08-21 00:52:37,386 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:52:37,491 - DEBUG - parse:599 - < PONG 98 d8 0f b2 [binary, 4 bytes]
websockets.client 2025-08-21 00:52:37,491 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:52:57,387 - DEBUG - send_frame:745 - > PING d1 28 95 63 [binary, 4 bytes]
websockets.client 2025-08-21 00:52:57,388 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:52:57,477 - DEBUG - parse:599 - < PONG d1 28 95 63 [binary, 4 bytes]
websockets.client 2025-08-21 00:52:57,477 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:53:17,389 - DEBUG - send_frame:745 - > PING 82 5f b5 94 [binary, 4 bytes]
websockets.client 2025-08-21 00:53:17,391 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:53:17,479 - DEBUG - parse:599 - < PONG 82 5f b5 94 [binary, 4 bytes]
websockets.client 2025-08-21 00:53:17,482 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:53:37,392 - DEBUG - send_frame:745 - > PING b6 de a0 6d [binary, 4 bytes]
websockets.client 2025-08-21 00:53:37,393 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:53:37,482 - DEBUG - parse:599 - < PONG b6 de a0 6d [binary, 4 bytes]
websockets.client 2025-08-21 00:53:37,483 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:53:57,394 - DEBUG - send_frame:745 - > PING 4a ad 3f 95 [binary, 4 bytes]
websockets.client 2025-08-21 00:53:57,396 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:53:57,485 - DEBUG - parse:599 - < PONG 4a ad 3f 95 [binary, 4 bytes]
websockets.client 2025-08-21 00:53:57,486 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:54:17,396 - DEBUG - send_frame:745 - > PING d5 d5 46 2c [binary, 4 bytes]
websockets.client 2025-08-21 00:54:17,398 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:54:17,487 - DEBUG - parse:599 - < PONG d5 d5 46 2c [binary, 4 bytes]
websockets.client 2025-08-21 00:54:17,488 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:54:37,398 - DEBUG - send_frame:745 - > PING '4\x0bU{' [text, 4 bytes]
websockets.client 2025-08-21 00:54:37,399 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:54:37,487 - DEBUG - parse:599 - < PONG '4\x0bU{' [text, 4 bytes]
websockets.client 2025-08-21 00:54:37,488 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:54:57,399 - DEBUG - send_frame:745 - > PING 77 12 d6 c5 [binary, 4 bytes]
websockets.client 2025-08-21 00:54:57,401 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:54:57,489 - DEBUG - parse:599 - < PONG 77 12 d6 c5 [binary, 4 bytes]
websockets.client 2025-08-21 00:54:57,490 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:55:17,401 - DEBUG - send_frame:745 - > PING 6d 19 ce 7d [binary, 4 bytes]
websockets.client 2025-08-21 00:55:17,402 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:55:17,491 - DEBUG - parse:599 - < PONG 6d 19 ce 7d [binary, 4 bytes]
websockets.client 2025-08-21 00:55:17,492 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:55:37,403 - DEBUG - send_frame:745 - > PING 38 e7 56 f7 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:37,404 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:55:37,493 - DEBUG - parse:599 - < PONG 38 e7 56 f7 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:37,494 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:55:57,404 - DEBUG - send_frame:745 - > PING 98 24 45 95 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:57,406 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:55:57,495 - DEBUG - parse:599 - < PONG 98 24 45 95 [binary, 4 bytes]
websockets.client 2025-08-21 00:55:57,497 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:56:17,405 - DEBUG - send_frame:745 - > PING 0e 3d 5d f1 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:17,406 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:56:17,494 - DEBUG - parse:599 - < PONG 0e 3d 5d f1 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:17,494 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:56:37,407 - DEBUG - send_frame:745 - > PING 43 49 56 a3 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:37,408 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:56:37,496 - DEBUG - parse:599 - < PONG 43 49 56 a3 [binary, 4 bytes]
websockets.client 2025-08-21 00:56:37,497 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:56:57,408 - DEBUG - send_frame:745 - > PING b9 a4 cc 7d [binary, 4 bytes]
websockets.client 2025-08-21 00:56:57,413 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:56:57,503 - DEBUG - parse:599 - < PONG b9 a4 cc 7d [binary, 4 bytes]
websockets.client 2025-08-21 00:56:57,505 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:57:17,410 - DEBUG - send_frame:745 - > PING 96 f8 fb ac [binary, 4 bytes]
websockets.client 2025-08-21 00:57:17,411 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:57:17,502 - DEBUG - parse:599 - < PONG 96 f8 fb ac [binary, 4 bytes]
websockets.client 2025-08-21 00:57:17,504 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:57:37,419 - DEBUG - send_frame:745 - > PING 16 77 ea a6 [binary, 4 bytes]
websockets.client 2025-08-21 00:57:37,421 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:57:37,459 - DEBUG - parse:599 - < CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:57:37,460 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 00:57:37,460 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 00:57:37,549 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 00:57:37,550 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 00:57:37,550 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 00:57:37,550 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 00:57:37,551 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
livekit.plugins.google 2025-08-21 00:57:37,554 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 00:57:37,555 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 00:57:37,636 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 00:57:37,733 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 00:57:37,733 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 00:57:37,733 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 00:57:37,733 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 00:57:37,734 - DEBUG - send_request:294 - > Sec-WebSocket-Key: 1Ep2azdB8D4Us1MKaA+cRA==
websockets.client 2025-08-21 00:57:37,734 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 00:57:37,734 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 00:57:37,734 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 00:57:37,734 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 00:57:37,734 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:57:37,734 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:320 - < Sec-WebSocket-Accept: e3TzIQa68ZJOO+RZVFX/oVRCMOA=
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 21:57:37 GMT
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=88
websockets.client 2025-08-21 00:57:37,899 - DEBUG - parse:320 - < Set-Cookie: S==Co4hF4sCclIgP9fYbXCDB-HmS70YNY8xD3NCUhU186M; path=/; priority=low
websockets.client 2025-08-21 00:57:37,900 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 00:57:37,900 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 00:57:37,900 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 00:57:38,163 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 00:57:38,165 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 00:57:38,167 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 00:57:57,902 - DEBUG - send_frame:745 - > PING 0b b4 25 29 [binary, 4 bytes]
websockets.client 2025-08-21 00:57:57,903 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:57:57,990 - DEBUG - parse:599 - < PONG 0b b4 25 29 [binary, 4 bytes]
websockets.client 2025-08-21 00:57:57,990 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:58:17,903 - DEBUG - send_frame:745 - > PING 31 fc 01 c0 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:17,904 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:58:17,992 - DEBUG - parse:599 - < PONG 31 fc 01 c0 [binary, 4 bytes]
websockets.client 2025-08-21 00:58:17,992 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:58:37,906 - DEBUG - send_frame:745 - > PING 'ꛐV' [text, 4 bytes]
websockets.client 2025-08-21 00:58:37,908 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:58:37,996 - DEBUG - parse:599 - < PONG 'ꛐV' [text, 4 bytes]
websockets.client 2025-08-21 00:58:37,997 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:58:57,908 - DEBUG - send_frame:745 - > PING 92 3b 66 6e [binary, 4 bytes]
websockets.client 2025-08-21 00:58:57,908 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:58:57,996 - DEBUG - parse:599 - < PONG 92 3b 66 6e [binary, 4 bytes]
websockets.client 2025-08-21 00:58:57,996 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:59:17,909 - DEBUG - send_frame:745 - > PING 96 a0 9b 22 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:17,910 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:59:18,001 - DEBUG - parse:599 - < PONG 96 a0 9b 22 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:18,002 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:59:37,911 - DEBUG - send_frame:745 - > PING 80 78 cf 18 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:37,911 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:59:38,002 - DEBUG - parse:599 - < PONG 80 78 cf 18 [binary, 4 bytes]
websockets.client 2025-08-21 00:59:38,002 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 00:59:57,912 - DEBUG - send_frame:745 - > PING 11 cb cd ef [binary, 4 bytes]
websockets.client 2025-08-21 00:59:57,913 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 00:59:58,000 - DEBUG - parse:599 - < PONG 11 cb cd ef [binary, 4 bytes]
websockets.client 2025-08-21 00:59:58,001 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:00:17,914 - DEBUG - send_frame:745 - > PING 6c 3d 49 d3 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:17,915 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:00:18,002 - DEBUG - parse:599 - < PONG 6c 3d 49 d3 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:18,003 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:00:37,917 - DEBUG - send_frame:745 - > PING ad 41 29 9d [binary, 4 bytes]
websockets.client 2025-08-21 01:00:37,918 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:00:38,006 - DEBUG - parse:599 - < PONG ad 41 29 9d [binary, 4 bytes]
websockets.client 2025-08-21 01:00:38,006 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:00:57,923 - DEBUG - send_frame:745 - > PING e5 ad 12 c2 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:57,926 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:00:58,015 - DEBUG - parse:599 - < PONG e5 ad 12 c2 [binary, 4 bytes]
websockets.client 2025-08-21 01:00:58,015 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:01:17,925 - DEBUG - send_frame:745 - > PING ea 68 09 14 [binary, 4 bytes]
websockets.client 2025-08-21 01:01:17,927 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:01:18,015 - DEBUG - parse:599 - < PONG ea 68 09 14 [binary, 4 bytes]
websockets.client 2025-08-21 01:01:18,017 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:01:37,926 - DEBUG - send_frame:745 - > PING c7 29 f0 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:01:37,927 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:01:38,014 - DEBUG - parse:599 - < PONG c7 29 f0 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:01:38,015 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:01:57,928 - DEBUG - send_frame:745 - > PING e9 94 ce 6c [binary, 4 bytes]
websockets.client 2025-08-21 01:01:57,930 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:01:58,019 - DEBUG - parse:599 - < PONG e9 94 ce 6c [binary, 4 bytes]
websockets.client 2025-08-21 01:01:58,019 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:02:17,930 - DEBUG - send_frame:745 - > PING 79 b0 aa 2a [binary, 4 bytes]
websockets.client 2025-08-21 01:02:17,931 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:02:18,020 - DEBUG - parse:599 - < PONG 79 b0 aa 2a [binary, 4 bytes]
websockets.client 2025-08-21 01:02:18,020 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:02:37,931 - DEBUG - send_frame:745 - > PING 0e 92 e2 44 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:37,931 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:02:38,019 - DEBUG - parse:599 - < PONG 0e 92 e2 44 [binary, 4 bytes]
websockets.client 2025-08-21 01:02:38,019 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:02:57,932 - DEBUG - send_frame:745 - > PING 7d 1b 41 8b [binary, 4 bytes]
websockets.client 2025-08-21 01:02:57,933 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:02:58,022 - DEBUG - parse:599 - < PONG 7d 1b 41 8b [binary, 4 bytes]
websockets.client 2025-08-21 01:02:58,023 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:03:17,933 - DEBUG - send_frame:745 - > PING 4e 62 f3 6f [binary, 4 bytes]
websockets.client 2025-08-21 01:03:17,934 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:03:18,024 - DEBUG - parse:599 - < PONG 4e 62 f3 6f [binary, 4 bytes]
websockets.client 2025-08-21 01:03:18,024 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:03:37,934 - DEBUG - send_frame:745 - > PING a9 b3 c4 d8 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:37,935 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:03:38,022 - DEBUG - parse:599 - < PONG a9 b3 c4 d8 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:38,022 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:03:57,936 - DEBUG - send_frame:745 - > PING e5 c7 d6 b0 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:57,938 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:03:58,025 - DEBUG - parse:599 - < PONG e5 c7 d6 b0 [binary, 4 bytes]
websockets.client 2025-08-21 01:03:58,025 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:04:17,937 - DEBUG - send_frame:745 - > PING '-f5(' [text, 4 bytes]
websockets.client 2025-08-21 01:04:17,939 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:04:18,027 - DEBUG - parse:599 - < PONG '-f5(' [text, 4 bytes]
websockets.client 2025-08-21 01:04:18,029 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:04:37,939 - DEBUG - send_frame:745 - > PING 53 ae 9a a7 [binary, 4 bytes]
websockets.client 2025-08-21 01:04:37,940 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:04:38,028 - DEBUG - parse:599 - < PONG 53 ae 9a a7 [binary, 4 bytes]
websockets.client 2025-08-21 01:04:38,029 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:04:57,941 - DEBUG - send_frame:745 - > PING a0 52 52 e9 [binary, 4 bytes]
websockets.client 2025-08-21 01:04:57,942 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:04:58,030 - DEBUG - parse:599 - < PONG a0 52 52 e9 [binary, 4 bytes]
websockets.client 2025-08-21 01:04:58,030 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:05:17,943 - DEBUG - send_frame:745 - > PING a6 88 89 9b [binary, 4 bytes]
websockets.client 2025-08-21 01:05:17,943 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:05:18,031 - DEBUG - parse:599 - < PONG a6 88 89 9b [binary, 4 bytes]
websockets.client 2025-08-21 01:05:18,032 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:05:37,944 - DEBUG - send_frame:745 - > PING '<펁' [text, 4 bytes]
websockets.client 2025-08-21 01:05:37,945 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:05:38,032 - DEBUG - parse:599 - < PONG '<펁' [text, 4 bytes]
websockets.client 2025-08-21 01:05:38,032 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:05:57,946 - DEBUG - send_frame:745 - > PING 'P0܃' [text, 4 bytes]
websockets.client 2025-08-21 01:05:57,946 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:05:58,035 - DEBUG - parse:599 - < PONG 'P0܃' [text, 4 bytes]
websockets.client 2025-08-21 01:05:58,035 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:06:17,947 - DEBUG - send_frame:745 - > PING c9 68 c6 5f [binary, 4 bytes]
websockets.client 2025-08-21 01:06:17,947 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:06:18,036 - DEBUG - parse:599 - < PONG c9 68 c6 5f [binary, 4 bytes]
websockets.client 2025-08-21 01:06:18,036 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:06:37,949 - DEBUG - send_frame:745 - > PING 39 14 9f 90 [binary, 4 bytes]
websockets.client 2025-08-21 01:06:37,949 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:06:38,038 - DEBUG - parse:599 - < PONG 39 14 9f 90 [binary, 4 bytes]
websockets.client 2025-08-21 01:06:38,039 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:06:57,950 - DEBUG - send_frame:745 - > PING 07 f2 43 07 [binary, 4 bytes]
websockets.client 2025-08-21 01:06:57,950 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:06:58,042 - DEBUG - parse:599 - < PONG 07 f2 43 07 [binary, 4 bytes]
websockets.client 2025-08-21 01:06:58,042 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:07:17,952 - DEBUG - send_frame:745 - > PING ea ce 07 4f [binary, 4 bytes]
websockets.client 2025-08-21 01:07:17,953 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:07:18,042 - DEBUG - parse:599 - < PONG ea ce 07 4f [binary, 4 bytes]
websockets.client 2025-08-21 01:07:18,042 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:07:37,953 - DEBUG - send_frame:745 - > PING 1e 3e e0 1a [binary, 4 bytes]
websockets.client 2025-08-21 01:07:37,954 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:07:37,993 - DEBUG - parse:599 - < CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:07:37,993 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:07:37,993 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:07:38,081 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:07:38,081 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:07:38,081 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:07:38,081 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:07:38,082 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
livekit.plugins.google 2025-08-21 01:07:38,083 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:07:38,083 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:07:38,161 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:07:38,252 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > Sec-WebSocket-Key: b0Ye0NxMrQXnbOs1ESTu+A==
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:07:38,253 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < Sec-WebSocket-Accept: jLD2im27viw6kpg5UhD21qIrFIg=
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:07:38 GMT
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=89
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < Set-Cookie: S==a6PpOsiSk9MfjOJ30xSWulEZ8cBsxFZbwUKBaJkz2ks; path=/; priority=low
websockets.client 2025-08-21 01:07:38,417 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:07:38,418 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:07:38,418 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:07:38,651 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 01:07:38,651 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 01:07:38,651 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 01:07:58,418 - DEBUG - send_frame:745 - > PING c0 bf c3 dc [binary, 4 bytes]
websockets.client 2025-08-21 01:07:58,419 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:07:58,507 - DEBUG - parse:599 - < PONG c0 bf c3 dc [binary, 4 bytes]
websockets.client 2025-08-21 01:07:58,507 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:08:18,426 - DEBUG - send_frame:745 - > PING '/v\u0600' [text, 4 bytes]
websockets.client 2025-08-21 01:08:18,427 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:08:18,516 - DEBUG - parse:599 - < PONG '/v\u0600' [text, 4 bytes]
websockets.client 2025-08-21 01:08:18,516 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:08:38,427 - DEBUG - send_frame:745 - > PING 9c 36 2f 95 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:38,428 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:08:38,515 - DEBUG - parse:599 - < PONG 9c 36 2f 95 [binary, 4 bytes]
websockets.client 2025-08-21 01:08:38,515 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:08:58,429 - DEBUG - send_frame:745 - > PING df 49 2c 9f [binary, 4 bytes]
websockets.client 2025-08-21 01:08:58,432 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:08:58,518 - DEBUG - parse:599 - < PONG df 49 2c 9f [binary, 4 bytes]
websockets.client 2025-08-21 01:08:58,519 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:09:18,430 - DEBUG - send_frame:745 - > PING c8 df 3e 01 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:18,432 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:09:18,519 - DEBUG - parse:599 - < PONG c8 df 3e 01 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:18,520 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:09:38,432 - DEBUG - send_frame:745 - > PING 6d fe 5d 21 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:38,433 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:09:38,522 - DEBUG - parse:599 - < PONG 6d fe 5d 21 [binary, 4 bytes]
websockets.client 2025-08-21 01:09:38,523 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:09:58,434 - DEBUG - send_frame:745 - > PING 28 d1 0c 2a [binary, 4 bytes]
websockets.client 2025-08-21 01:09:58,434 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:09:58,523 - DEBUG - parse:599 - < PONG 28 d1 0c 2a [binary, 4 bytes]
websockets.client 2025-08-21 01:09:58,523 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:10:18,435 - DEBUG - send_frame:745 - > PING 18 d6 e2 84 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:18,436 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:10:18,526 - DEBUG - parse:599 - < PONG 18 d6 e2 84 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:18,529 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:10:38,438 - DEBUG - send_frame:745 - > PING 96 dc 86 b6 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:38,439 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:10:38,527 - DEBUG - parse:599 - < PONG 96 dc 86 b6 [binary, 4 bytes]
websockets.client 2025-08-21 01:10:38,527 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:10:58,440 - DEBUG - send_frame:745 - > PING d8 d8 b7 8f [binary, 4 bytes]
websockets.client 2025-08-21 01:10:58,443 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:10:58,531 - DEBUG - parse:599 - < PONG d8 d8 b7 8f [binary, 4 bytes]
websockets.client 2025-08-21 01:10:58,532 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:11:18,442 - DEBUG - send_frame:745 - > PING df e1 ec 14 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:18,443 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:11:18,531 - DEBUG - parse:599 - < PONG df e1 ec 14 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:18,532 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:11:38,444 - DEBUG - send_frame:745 - > PING f6 21 b9 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:38,444 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:11:38,531 - DEBUG - parse:599 - < PONG f6 21 b9 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:38,532 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:11:58,446 - DEBUG - send_frame:745 - > PING ad 7e 58 f0 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:58,447 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:11:58,535 - DEBUG - parse:599 - < PONG ad 7e 58 f0 [binary, 4 bytes]
websockets.client 2025-08-21 01:11:58,536 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:12:18,452 - DEBUG - send_frame:745 - > PING 'ʏ\t7' [text, 4 bytes]
websockets.client 2025-08-21 01:12:18,454 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:12:18,543 - DEBUG - parse:599 - < PONG 'ʏ\t7' [text, 4 bytes]
websockets.client 2025-08-21 01:12:18,544 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:12:38,454 - DEBUG - send_frame:745 - > PING 85 fe b8 eb [binary, 4 bytes]
websockets.client 2025-08-21 01:12:38,457 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:12:38,548 - DEBUG - parse:599 - < PONG 85 fe b8 eb [binary, 4 bytes]
websockets.client 2025-08-21 01:12:38,550 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:12:58,456 - DEBUG - send_frame:745 - > PING 14 11 af 37 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:58,458 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:12:58,547 - DEBUG - parse:599 - < PONG 14 11 af 37 [binary, 4 bytes]
websockets.client 2025-08-21 01:12:58,549 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:13:18,458 - DEBUG - send_frame:745 - > PING 17 67 e5 37 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:18,460 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:13:18,548 - DEBUG - parse:599 - < PONG 17 67 e5 37 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:18,549 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:13:38,460 - DEBUG - send_frame:745 - > PING 4f f2 58 c4 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:38,463 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:13:38,555 - DEBUG - parse:599 - < PONG 4f f2 58 c4 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:38,556 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:13:58,462 - DEBUG - send_frame:745 - > PING 30 15 88 90 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:58,464 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:13:58,555 - DEBUG - parse:599 - < PONG 30 15 88 90 [binary, 4 bytes]
websockets.client 2025-08-21 01:13:58,556 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:14:18,464 - DEBUG - send_frame:745 - > PING 43 e0 ae e4 [binary, 4 bytes]
websockets.client 2025-08-21 01:14:18,466 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:14:18,561 - DEBUG - parse:599 - < PONG 43 e0 ae e4 [binary, 4 bytes]
websockets.client 2025-08-21 01:14:18,562 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:14:38,466 - DEBUG - send_frame:745 - > PING d9 4f 5d 27 [binary, 4 bytes]
websockets.client 2025-08-21 01:14:38,468 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:14:38,557 - DEBUG - parse:599 - < PONG d9 4f 5d 27 [binary, 4 bytes]
websockets.client 2025-08-21 01:14:38,563 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:14:58,469 - DEBUG - send_frame:745 - > PING 93 63 fa 9c [binary, 4 bytes]
websockets.client 2025-08-21 01:14:58,472 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:14:58,561 - DEBUG - parse:599 - < PONG 93 63 fa 9c [binary, 4 bytes]
websockets.client 2025-08-21 01:14:58,566 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:15:18,475 - DEBUG - send_frame:745 - > PING 1c 4c 37 f8 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:18,476 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:15:18,572 - DEBUG - parse:599 - < PONG 1c 4c 37 f8 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:18,572 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:15:38,476 - DEBUG - send_frame:745 - > PING 12 73 eb a5 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:38,477 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:15:38,565 - DEBUG - parse:599 - < PONG 12 73 eb a5 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:38,566 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:15:58,478 - DEBUG - send_frame:745 - > PING aa 58 b9 a8 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:58,479 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:15:58,567 - DEBUG - parse:599 - < PONG aa 58 b9 a8 [binary, 4 bytes]
websockets.client 2025-08-21 01:15:58,571 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:16:18,481 - DEBUG - send_frame:745 - > PING aa e6 93 a4 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:18,483 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:16:18,571 - DEBUG - parse:599 - < PONG aa e6 93 a4 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:18,572 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:16:38,483 - DEBUG - send_frame:745 - > PING b1 8e d5 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:38,484 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:16:38,572 - DEBUG - parse:599 - < PONG b1 8e d5 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:38,574 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:16:58,487 - DEBUG - send_frame:745 - > PING 84 1c dd a6 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:58,488 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:16:58,578 - DEBUG - parse:599 - < PONG 84 1c dd a6 [binary, 4 bytes]
websockets.client 2025-08-21 01:16:58,578 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:17:18,489 - DEBUG - send_frame:745 - > PING 3b 2a f2 8b [binary, 4 bytes]
websockets.client 2025-08-21 01:17:18,489 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:17:18,577 - DEBUG - parse:599 - < PONG 3b 2a f2 8b [binary, 4 bytes]
websockets.client 2025-08-21 01:17:18,578 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:17:38,490 - DEBUG - send_frame:745 - > PING c6 d1 ab 6b [binary, 4 bytes]
websockets.client 2025-08-21 01:17:38,491 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:17:38,510 - DEBUG - parse:599 - < CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:17:38,511 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:17:38,511 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:17:38,599 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:17:38,599 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:17:38,599 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:17:38,599 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:17:38,600 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
livekit.plugins.google 2025-08-21 01:17:38,601 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:17:38,601 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:17:38,680 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:17:38,773 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:17:38,773 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:17:38,773 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:17:38,773 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:17:38,773 - DEBUG - send_request:294 - > Sec-WebSocket-Key: SaShtABl0qfGfl683N2c6g==
websockets.client 2025-08-21 01:17:38,773 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:17:38,774 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:17:38,774 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:17:38,774 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:17:38,774 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:17:38,774 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:17:38,936 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:17:38,936 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:17:38,936 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:17:38,936 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:17:38,936 - DEBUG - parse:320 - < Sec-WebSocket-Accept: +t+5Y3kaiWLx3oheWMzCs+Qb/xY=
websockets.client 2025-08-21 01:17:38,936 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:17:38 GMT
websockets.client 2025-08-21 01:17:38,937 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=88
websockets.client 2025-08-21 01:17:38,937 - DEBUG - parse:320 - < Set-Cookie: S==ZkEPJY_gzDqI58YLeYLtegfZJcW4ZaPgFx1-faWjxp8; path=/; priority=low
websockets.client 2025-08-21 01:17:38,937 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:17:38,937 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:17:38,937 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:17:39,196 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 01:17:39,196 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 01:17:39,197 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 01:17:58,938 - DEBUG - send_frame:745 - > PING 07 6a 2b d3 [binary, 4 bytes]
websockets.client 2025-08-21 01:17:58,938 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:17:59,026 - DEBUG - parse:599 - < PONG 07 6a 2b d3 [binary, 4 bytes]
websockets.client 2025-08-21 01:17:59,027 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:18:18,939 - DEBUG - send_frame:745 - > PING ca bb 88 12 [binary, 4 bytes]
websockets.client 2025-08-21 01:18:18,939 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:18:19,028 - DEBUG - parse:599 - < PONG ca bb 88 12 [binary, 4 bytes]
websockets.client 2025-08-21 01:18:19,029 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:18:38,941 - DEBUG - send_frame:745 - > PING 'D\x1f>k' [text, 4 bytes]
websockets.client 2025-08-21 01:18:38,941 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:18:39,031 - DEBUG - parse:599 - < PONG 'D\x1f>k' [text, 4 bytes]
websockets.client 2025-08-21 01:18:39,031 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:18:58,943 - DEBUG - send_frame:745 - > PING '#ye\x7f' [text, 4 bytes]
websockets.client 2025-08-21 01:18:58,946 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:18:59,032 - DEBUG - parse:599 - < PONG '#ye\x7f' [text, 4 bytes]
websockets.client 2025-08-21 01:18:59,032 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:19:18,944 - DEBUG - send_frame:745 - > PING db 8e b9 52 [binary, 4 bytes]
websockets.client 2025-08-21 01:19:18,945 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:19:19,033 - DEBUG - parse:599 - < PONG db 8e b9 52 [binary, 4 bytes]
websockets.client 2025-08-21 01:19:19,034 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:19:38,946 - DEBUG - send_frame:745 - > PING a6 a5 ad 40 [binary, 4 bytes]
websockets.client 2025-08-21 01:19:38,948 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:19:39,035 - DEBUG - parse:599 - < PONG a6 a5 ad 40 [binary, 4 bytes]
websockets.client 2025-08-21 01:19:39,035 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:19:58,947 - DEBUG - send_frame:745 - > PING dd c2 90 aa [binary, 4 bytes]
websockets.client 2025-08-21 01:19:58,949 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:19:59,037 - DEBUG - parse:599 - < PONG dd c2 90 aa [binary, 4 bytes]
websockets.client 2025-08-21 01:19:59,038 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:20:18,949 - DEBUG - send_frame:745 - > PING e9 71 a5 95 [binary, 4 bytes]
websockets.client 2025-08-21 01:20:18,949 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:20:19,037 - DEBUG - parse:599 - < PONG e9 71 a5 95 [binary, 4 bytes]
websockets.client 2025-08-21 01:20:19,037 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:20:38,950 - DEBUG - send_frame:745 - > PING 13 55 46 98 [binary, 4 bytes]
websockets.client 2025-08-21 01:20:38,952 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:20:39,040 - DEBUG - parse:599 - < PONG 13 55 46 98 [binary, 4 bytes]
websockets.client 2025-08-21 01:20:39,041 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:20:58,960 - DEBUG - send_frame:745 - > PING 0a 12 a5 1d [binary, 4 bytes]
websockets.client 2025-08-21 01:20:58,960 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:20:59,049 - DEBUG - parse:599 - < PONG 0a 12 a5 1d [binary, 4 bytes]
websockets.client 2025-08-21 01:20:59,050 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:21:18,961 - DEBUG - send_frame:745 - > PING a0 55 48 df [binary, 4 bytes]
websockets.client 2025-08-21 01:21:18,962 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:21:19,051 - DEBUG - parse:599 - < PONG a0 55 48 df [binary, 4 bytes]
websockets.client 2025-08-21 01:21:19,051 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:21:38,963 - DEBUG - send_frame:745 - > PING 19 98 55 d3 [binary, 4 bytes]
websockets.client 2025-08-21 01:21:38,963 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:21:39,061 - DEBUG - parse:599 - < PONG 19 98 55 d3 [binary, 4 bytes]
websockets.client 2025-08-21 01:21:39,061 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:21:58,964 - DEBUG - send_frame:745 - > PING bf a9 8d 5e [binary, 4 bytes]
websockets.client 2025-08-21 01:21:58,965 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:21:59,052 - DEBUG - parse:599 - < PONG bf a9 8d 5e [binary, 4 bytes]
websockets.client 2025-08-21 01:21:59,052 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:22:18,966 - DEBUG - send_frame:745 - > PING 8d 12 06 3e [binary, 4 bytes]
websockets.client 2025-08-21 01:22:18,970 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:22:19,061 - DEBUG - parse:599 - < PONG 8d 12 06 3e [binary, 4 bytes]
websockets.client 2025-08-21 01:22:19,062 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:22:38,968 - DEBUG - send_frame:745 - > PING 9c 59 d9 c0 [binary, 4 bytes]
websockets.client 2025-08-21 01:22:38,968 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:22:39,061 - DEBUG - parse:599 - < PONG 9c 59 d9 c0 [binary, 4 bytes]
websockets.client 2025-08-21 01:22:39,061 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:22:58,969 - DEBUG - send_frame:745 - > PING 7d 0e 70 97 [binary, 4 bytes]
websockets.client 2025-08-21 01:22:58,970 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:22:59,062 - DEBUG - parse:599 - < PONG 7d 0e 70 97 [binary, 4 bytes]
websockets.client 2025-08-21 01:22:59,062 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:23:18,970 - DEBUG - send_frame:745 - > PING a0 bd da 95 [binary, 4 bytes]
websockets.client 2025-08-21 01:23:18,971 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:23:19,064 - DEBUG - parse:599 - < PONG a0 bd da 95 [binary, 4 bytes]
websockets.client 2025-08-21 01:23:19,065 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:23:38,972 - DEBUG - send_frame:745 - > PING e5 ed ea 59 [binary, 4 bytes]
websockets.client 2025-08-21 01:23:38,972 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:23:39,062 - DEBUG - parse:599 - < PONG e5 ed ea 59 [binary, 4 bytes]
websockets.client 2025-08-21 01:23:39,063 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:23:58,976 - DEBUG - send_frame:745 - > PING cf aa fb 63 [binary, 4 bytes]
websockets.client 2025-08-21 01:23:58,977 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:23:59,069 - DEBUG - parse:599 - < PONG cf aa fb 63 [binary, 4 bytes]
websockets.client 2025-08-21 01:23:59,070 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:24:18,978 - DEBUG - send_frame:745 - > PING 57 87 30 36 [binary, 4 bytes]
websockets.client 2025-08-21 01:24:18,979 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:24:19,069 - DEBUG - parse:599 - < PONG 57 87 30 36 [binary, 4 bytes]
websockets.client 2025-08-21 01:24:19,070 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:24:38,979 - DEBUG - send_frame:745 - > PING 9a 87 d4 b7 [binary, 4 bytes]
websockets.client 2025-08-21 01:24:38,982 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:24:39,070 - DEBUG - parse:599 - < PONG 9a 87 d4 b7 [binary, 4 bytes]
websockets.client 2025-08-21 01:24:39,074 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:24:58,983 - DEBUG - send_frame:745 - > PING 6e 9d 77 dd [binary, 4 bytes]
websockets.client 2025-08-21 01:24:58,985 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:24:59,072 - DEBUG - parse:599 - < PONG 6e 9d 77 dd [binary, 4 bytes]
websockets.client 2025-08-21 01:24:59,073 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:25:18,992 - DEBUG - send_frame:745 - > PING df 55 9c c1 [binary, 4 bytes]
websockets.client 2025-08-21 01:25:18,994 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:25:19,082 - DEBUG - parse:599 - < PONG df 55 9c c1 [binary, 4 bytes]
websockets.client 2025-08-21 01:25:19,083 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:25:38,995 - DEBUG - send_frame:745 - > PING a9 92 20 76 [binary, 4 bytes]
websockets.client 2025-08-21 01:25:38,996 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:25:39,084 - DEBUG - parse:599 - < PONG a9 92 20 76 [binary, 4 bytes]
websockets.client 2025-08-21 01:25:39,084 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:25:58,996 - DEBUG - send_frame:745 - > PING c9 b0 20 b4 [binary, 4 bytes]
websockets.client 2025-08-21 01:25:58,998 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:25:59,084 - DEBUG - parse:599 - < PONG c9 b0 20 b4 [binary, 4 bytes]
websockets.client 2025-08-21 01:25:59,088 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:26:19,001 - DEBUG - send_frame:745 - > PING 96 c1 b7 32 [binary, 4 bytes]
websockets.client 2025-08-21 01:26:19,008 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:26:19,099 - DEBUG - parse:599 - < PONG 96 c1 b7 32 [binary, 4 bytes]
websockets.client 2025-08-21 01:26:19,101 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:26:39,008 - DEBUG - send_frame:745 - > PING 81 64 53 48 [binary, 4 bytes]
websockets.client 2025-08-21 01:26:39,009 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:26:39,097 - DEBUG - parse:599 - < PONG 81 64 53 48 [binary, 4 bytes]
websockets.client 2025-08-21 01:26:39,098 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:26:59,011 - DEBUG - send_frame:745 - > PING 1b 80 ad 77 [binary, 4 bytes]
websockets.client 2025-08-21 01:26:59,018 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:26:59,105 - DEBUG - parse:599 - < PONG 1b 80 ad 77 [binary, 4 bytes]
websockets.client 2025-08-21 01:26:59,106 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:27:19,011 - DEBUG - send_frame:745 - > PING 8c 4c e5 c8 [binary, 4 bytes]
websockets.client 2025-08-21 01:27:19,012 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:27:19,099 - DEBUG - parse:599 - < PONG 8c 4c e5 c8 [binary, 4 bytes]
websockets.client 2025-08-21 01:27:19,100 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:27:39,012 - DEBUG - send_frame:745 - > PING 77 15 74 89 [binary, 4 bytes]
websockets.client 2025-08-21 01:27:39,012 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:27:39,029 - DEBUG - parse:599 - < CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:27:39,030 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:27:39,030 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:27:39,118 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:27:39,119 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:27:39,119 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:27:39,119 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:27:39,119 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
livekit.plugins.google 2025-08-21 01:27:39,121 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:27:39,121 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:27:39,202 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:27:39,297 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:27:39,297 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:27:39,297 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:27:39,297 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:27:39,297 - DEBUG - send_request:294 - > Sec-WebSocket-Key: my1jg3ktaz7nNu5Gwso5SA==
websockets.client 2025-08-21 01:27:39,297 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:27:39,297 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:27:39,298 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:27:39,298 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:27:39,298 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:27:39,298 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:27:39,472 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:27:39,472 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:27:39,472 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:27:39,473 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:27:39,473 - DEBUG - parse:320 - < Sec-WebSocket-Accept: +e27McvYUVyO/5G6XgoW7Eqruck=
websockets.client 2025-08-21 01:27:39,473 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:27:39 GMT
websockets.client 2025-08-21 01:27:39,473 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=100
websockets.client 2025-08-21 01:27:39,473 - DEBUG - parse:320 - < Set-Cookie: S==S_U6C47hcOlPlJwo-dLcwe33MYNuhTFyGCksAQladVQ; path=/; priority=low
websockets.client 2025-08-21 01:27:39,473 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:27:39,473 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:27:39,473 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:27:39,730 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 01:27:39,731 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 01:27:39,733 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 01:27:59,475 - DEBUG - send_frame:745 - > PING cf 7f ce d5 [binary, 4 bytes]
websockets.client 2025-08-21 01:27:59,476 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:27:59,567 - DEBUG - parse:599 - < PONG cf 7f ce d5 [binary, 4 bytes]
websockets.client 2025-08-21 01:27:59,569 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:28:19,478 - DEBUG - send_frame:745 - > PING 'j$\x14n' [text, 4 bytes]
websockets.client 2025-08-21 01:28:19,479 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:28:19,650 - DEBUG - parse:599 - < PONG 'j$\x14n' [text, 4 bytes]
websockets.client 2025-08-21 01:28:19,650 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:28:39,480 - DEBUG - send_frame:745 - > PING 9a 79 e7 6e [binary, 4 bytes]
websockets.client 2025-08-21 01:28:39,481 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:28:39,573 - DEBUG - parse:599 - < PONG 9a 79 e7 6e [binary, 4 bytes]
websockets.client 2025-08-21 01:28:39,573 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:28:59,482 - DEBUG - send_frame:745 - > PING b5 05 46 0d [binary, 4 bytes]
websockets.client 2025-08-21 01:28:59,482 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:28:59,570 - DEBUG - parse:599 - < PONG b5 05 46 0d [binary, 4 bytes]
websockets.client 2025-08-21 01:28:59,571 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:29:19,483 - DEBUG - send_frame:745 - > PING 66 6f 72 fa [binary, 4 bytes]
websockets.client 2025-08-21 01:29:19,483 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:29:19,572 - DEBUG - parse:599 - < PONG 66 6f 72 fa [binary, 4 bytes]
websockets.client 2025-08-21 01:29:19,572 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:29:39,485 - DEBUG - send_frame:745 - > PING 56 04 85 dd [binary, 4 bytes]
websockets.client 2025-08-21 01:29:39,485 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:29:39,575 - DEBUG - parse:599 - < PONG 56 04 85 dd [binary, 4 bytes]
websockets.client 2025-08-21 01:29:39,576 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:29:59,486 - DEBUG - send_frame:745 - > PING 75 bb 16 26 [binary, 4 bytes]
websockets.client 2025-08-21 01:29:59,487 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:29:59,575 - DEBUG - parse:599 - < PONG 75 bb 16 26 [binary, 4 bytes]
websockets.client 2025-08-21 01:29:59,576 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:30:19,488 - DEBUG - send_frame:745 - > PING b4 51 eb 1c [binary, 4 bytes]
websockets.client 2025-08-21 01:30:19,489 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:30:19,579 - DEBUG - parse:599 - < PONG b4 51 eb 1c [binary, 4 bytes]
websockets.client 2025-08-21 01:30:19,580 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:30:39,490 - DEBUG - send_frame:745 - > PING e4 ee 34 82 [binary, 4 bytes]
websockets.client 2025-08-21 01:30:39,490 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:30:39,581 - DEBUG - parse:599 - < PONG e4 ee 34 82 [binary, 4 bytes]
websockets.client 2025-08-21 01:30:39,583 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:30:59,492 - DEBUG - send_frame:745 - > PING 05 64 f3 a2 [binary, 4 bytes]
websockets.client 2025-08-21 01:30:59,493 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:30:59,582 - DEBUG - parse:599 - < PONG 05 64 f3 a2 [binary, 4 bytes]
websockets.client 2025-08-21 01:30:59,584 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:31:19,494 - DEBUG - send_frame:745 - > PING 26 e1 cc e5 [binary, 4 bytes]
websockets.client 2025-08-21 01:31:19,495 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:31:19,583 - DEBUG - parse:599 - < PONG 26 e1 cc e5 [binary, 4 bytes]
websockets.client 2025-08-21 01:31:19,583 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:31:39,495 - DEBUG - send_frame:745 - > PING 79 81 f4 57 [binary, 4 bytes]
websockets.client 2025-08-21 01:31:39,496 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:31:39,585 - DEBUG - parse:599 - < PONG 79 81 f4 57 [binary, 4 bytes]
websockets.client 2025-08-21 01:31:39,587 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:31:59,497 - DEBUG - send_frame:745 - > PING 37 fb 6a 6d [binary, 4 bytes]
websockets.client 2025-08-21 01:31:59,497 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:31:59,584 - DEBUG - parse:599 - < PONG 37 fb 6a 6d [binary, 4 bytes]
websockets.client 2025-08-21 01:31:59,584 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:32:19,498 - DEBUG - send_frame:745 - > PING da b3 2d d7 [binary, 4 bytes]
websockets.client 2025-08-21 01:32:19,498 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:32:19,587 - DEBUG - parse:599 - < PONG da b3 2d d7 [binary, 4 bytes]
websockets.client 2025-08-21 01:32:19,588 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:32:39,499 - DEBUG - send_frame:745 - > PING 30 62 0d cc [binary, 4 bytes]
websockets.client 2025-08-21 01:32:39,503 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:32:39,590 - DEBUG - parse:599 - < PONG 30 62 0d cc [binary, 4 bytes]
websockets.client 2025-08-21 01:32:39,590 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:32:59,501 - DEBUG - send_frame:745 - > PING b0 ae 5f 27 [binary, 4 bytes]
websockets.client 2025-08-21 01:32:59,502 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:32:59,591 - DEBUG - parse:599 - < PONG b0 ae 5f 27 [binary, 4 bytes]
websockets.client 2025-08-21 01:32:59,592 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:33:19,502 - DEBUG - send_frame:745 - > PING ba 6d 69 72 [binary, 4 bytes]
websockets.client 2025-08-21 01:33:19,504 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:33:19,591 - DEBUG - parse:599 - < PONG ba 6d 69 72 [binary, 4 bytes]
websockets.client 2025-08-21 01:33:19,592 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:33:39,503 - DEBUG - send_frame:745 - > PING 43 88 97 1f [binary, 4 bytes]
websockets.client 2025-08-21 01:33:39,505 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:33:39,594 - DEBUG - parse:599 - < PONG 43 88 97 1f [binary, 4 bytes]
websockets.client 2025-08-21 01:33:39,596 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:33:59,508 - DEBUG - send_frame:745 - > PING 5a 97 2b 51 [binary, 4 bytes]
websockets.client 2025-08-21 01:33:59,509 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:33:59,599 - DEBUG - parse:599 - < PONG 5a 97 2b 51 [binary, 4 bytes]
websockets.client 2025-08-21 01:33:59,600 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:34:19,508 - DEBUG - send_frame:745 - > PING af 02 d1 3e [binary, 4 bytes]
websockets.client 2025-08-21 01:34:19,509 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:34:19,597 - DEBUG - parse:599 - < PONG af 02 d1 3e [binary, 4 bytes]
websockets.client 2025-08-21 01:34:19,597 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:34:39,510 - DEBUG - send_frame:745 - > PING 6a 3c 1e 80 [binary, 4 bytes]
websockets.client 2025-08-21 01:34:39,511 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:34:39,598 - DEBUG - parse:599 - < PONG 6a 3c 1e 80 [binary, 4 bytes]
websockets.client 2025-08-21 01:34:39,599 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:34:59,512 - DEBUG - send_frame:745 - > PING ac d2 55 cf [binary, 4 bytes]
websockets.client 2025-08-21 01:34:59,513 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:34:59,604 - DEBUG - parse:599 - < PONG ac d2 55 cf [binary, 4 bytes]
websockets.client 2025-08-21 01:34:59,605 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:35:19,512 - DEBUG - send_frame:745 - > PING e4 18 d6 c6 [binary, 4 bytes]
websockets.client 2025-08-21 01:35:19,513 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:35:19,601 - DEBUG - parse:599 - < PONG e4 18 d6 c6 [binary, 4 bytes]
websockets.client 2025-08-21 01:35:19,602 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:35:39,515 - DEBUG - send_frame:745 - > PING 11 8e e8 f0 [binary, 4 bytes]
websockets.client 2025-08-21 01:35:39,516 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:35:39,605 - DEBUG - parse:599 - < PONG 11 8e e8 f0 [binary, 4 bytes]
websockets.client 2025-08-21 01:35:39,609 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:35:59,516 - DEBUG - send_frame:745 - > PING b1 34 96 b0 [binary, 4 bytes]
websockets.client 2025-08-21 01:35:59,517 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:35:59,605 - DEBUG - parse:599 - < PONG b1 34 96 b0 [binary, 4 bytes]
websockets.client 2025-08-21 01:35:59,606 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:36:19,518 - DEBUG - send_frame:745 - > PING 7a 77 b0 3f [binary, 4 bytes]
websockets.client 2025-08-21 01:36:19,520 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:36:19,608 - DEBUG - parse:599 - < PONG 7a 77 b0 3f [binary, 4 bytes]
websockets.client 2025-08-21 01:36:19,610 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:36:39,520 - DEBUG - send_frame:745 - > PING dc 0f ca a1 [binary, 4 bytes]
websockets.client 2025-08-21 01:36:39,523 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:36:39,611 - DEBUG - parse:599 - < PONG dc 0f ca a1 [binary, 4 bytes]
websockets.client 2025-08-21 01:36:39,611 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:36:59,521 - DEBUG - send_frame:745 - > PING 79 4f 6f f7 [binary, 4 bytes]
websockets.client 2025-08-21 01:36:59,523 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:36:59,612 - DEBUG - parse:599 - < PONG 79 4f 6f f7 [binary, 4 bytes]
websockets.client 2025-08-21 01:36:59,613 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:37:19,523 - DEBUG - send_frame:745 - > PING 5f d1 f5 84 [binary, 4 bytes]
websockets.client 2025-08-21 01:37:19,524 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:37:19,614 - DEBUG - parse:599 - < PONG 5f d1 f5 84 [binary, 4 bytes]
websockets.client 2025-08-21 01:37:19,615 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:37:39,524 - DEBUG - send_frame:745 - > PING ec 31 83 78 [binary, 4 bytes]
websockets.client 2025-08-21 01:37:39,526 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:37:39,582 - DEBUG - parse:599 - < CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 01:37:39,583 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) Deadline expired before operation could complete. [51 bytes]
websockets.client 2025-08-21 01:37:39,583 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:37:39,675 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:37:39,676 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:37:39,676 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:37:39,676 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:37:39,677 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) Deadline expired before operation could complete.; then sent 1011 (internal error) Deadline expired before operation could complete.
livekit.plugins.google 2025-08-21 01:37:39,680 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:37:39,680 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:37:39,758 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:37:39,857 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:37:39,858 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:37:39,858 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:37:39,858 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:37:39,858 - DEBUG - send_request:294 - > Sec-WebSocket-Key: 73qqiwLlSeNYxLsaCJwzVA==
websockets.client 2025-08-21 01:37:39,859 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:37:39,859 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:37:39,859 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:37:39,859 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:37:39,859 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:37:39,860 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:37:39,949 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:37:39,950 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:37:39,950 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:37:39,950 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:37:39,950 - DEBUG - parse:320 - < Sec-WebSocket-Accept: EXa4MC++SSsiWcOVm6z4+Afqn9I=
websockets.client 2025-08-21 01:37:39,950 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:37:39 GMT
websockets.client 2025-08-21 01:37:39,950 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=15
websockets.client 2025-08-21 01:37:39,950 - DEBUG - parse:320 - < Set-Cookie: S==FxCAPcYZg8pTgByJunhC310aj0dSiXl5zWu9Qw-qi1I; path=/; priority=low
websockets.client 2025-08-21 01:37:39,951 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:37:39,951 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:37:39,952 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:37:40,214 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 01:37:40,215 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 01:37:40,215 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 01:37:59,953 - DEBUG - send_frame:745 - > PING dd 1d 93 22 [binary, 4 bytes]
websockets.client 2025-08-21 01:37:59,955 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:38:00,042 - DEBUG - parse:599 - < PONG dd 1d 93 22 [binary, 4 bytes]
websockets.client 2025-08-21 01:38:00,042 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:38:19,955 - DEBUG - send_frame:745 - > PING 68 d5 3e cc [binary, 4 bytes]
websockets.client 2025-08-21 01:38:19,957 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:38:20,047 - DEBUG - parse:599 - < PONG 68 d5 3e cc [binary, 4 bytes]
websockets.client 2025-08-21 01:38:20,048 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:38:39,958 - DEBUG - send_frame:745 - > PING bd 05 0d dc [binary, 4 bytes]
websockets.client 2025-08-21 01:38:39,960 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:38:40,047 - DEBUG - parse:599 - < PONG bd 05 0d dc [binary, 4 bytes]
websockets.client 2025-08-21 01:38:40,048 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:38:59,960 - DEBUG - send_frame:745 - > PING 8c 1d 24 26 [binary, 4 bytes]
websockets.client 2025-08-21 01:38:59,962 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:39:00,053 - DEBUG - parse:599 - < PONG 8c 1d 24 26 [binary, 4 bytes]
websockets.client 2025-08-21 01:39:00,054 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:39:19,962 - DEBUG - send_frame:745 - > PING 7f 7f 33 a1 [binary, 4 bytes]
websockets.client 2025-08-21 01:39:19,962 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:39:20,051 - DEBUG - parse:599 - < PONG 7f 7f 33 a1 [binary, 4 bytes]
websockets.client 2025-08-21 01:39:20,053 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:39:39,964 - DEBUG - send_frame:745 - > PING f8 97 6a 98 [binary, 4 bytes]
websockets.client 2025-08-21 01:39:39,965 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:39:40,054 - DEBUG - parse:599 - < PONG f8 97 6a 98 [binary, 4 bytes]
websockets.client 2025-08-21 01:39:40,055 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:39:59,965 - DEBUG - send_frame:745 - > PING 8e cd b5 5e [binary, 4 bytes]
websockets.client 2025-08-21 01:39:59,968 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:40:00,059 - DEBUG - parse:599 - < PONG 8e cd b5 5e [binary, 4 bytes]
websockets.client 2025-08-21 01:40:00,060 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:40:19,967 - DEBUG - send_frame:745 - > PING f2 99 46 72 [binary, 4 bytes]
websockets.client 2025-08-21 01:40:19,969 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:40:20,060 - DEBUG - parse:599 - < PONG f2 99 46 72 [binary, 4 bytes]
websockets.client 2025-08-21 01:40:20,061 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:40:39,969 - DEBUG - send_frame:745 - > PING ae 82 1c d5 [binary, 4 bytes]
websockets.client 2025-08-21 01:40:39,970 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:40:40,061 - DEBUG - parse:599 - < PONG ae 82 1c d5 [binary, 4 bytes]
websockets.client 2025-08-21 01:40:40,063 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:40:59,972 - DEBUG - send_frame:745 - > PING 4e d8 f5 62 [binary, 4 bytes]
websockets.client 2025-08-21 01:40:59,974 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:41:00,063 - DEBUG - parse:599 - < PONG 4e d8 f5 62 [binary, 4 bytes]
websockets.client 2025-08-21 01:41:00,064 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:41:19,973 - DEBUG - send_frame:745 - > PING 47 12 b0 f1 [binary, 4 bytes]
websockets.client 2025-08-21 01:41:19,974 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:41:20,065 - DEBUG - parse:599 - < PONG 47 12 b0 f1 [binary, 4 bytes]
websockets.client 2025-08-21 01:41:20,065 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:41:39,975 - DEBUG - send_frame:745 - > PING f9 3c c8 e9 [binary, 4 bytes]
websockets.client 2025-08-21 01:41:39,977 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:41:40,067 - DEBUG - parse:599 - < PONG f9 3c c8 e9 [binary, 4 bytes]
websockets.client 2025-08-21 01:41:40,068 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:41:59,977 - DEBUG - send_frame:745 - > PING 3a f7 7e 31 [binary, 4 bytes]
websockets.client 2025-08-21 01:41:59,979 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:42:00,070 - DEBUG - parse:599 - < PONG 3a f7 7e 31 [binary, 4 bytes]
websockets.client 2025-08-21 01:42:00,072 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:42:19,979 - DEBUG - send_frame:745 - > PING 6f 93 74 d2 [binary, 4 bytes]
websockets.client 2025-08-21 01:42:19,981 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:42:20,071 - DEBUG - parse:599 - < PONG 6f 93 74 d2 [binary, 4 bytes]
websockets.client 2025-08-21 01:42:20,072 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:42:39,981 - DEBUG - send_frame:745 - > PING 29 ce cb a6 [binary, 4 bytes]
websockets.client 2025-08-21 01:42:39,982 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:42:40,073 - DEBUG - parse:599 - < PONG 29 ce cb a6 [binary, 4 bytes]
websockets.client 2025-08-21 01:42:40,074 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:42:59,982 - DEBUG - send_frame:745 - > PING 'z\x06j\x1e' [text, 4 bytes]
websockets.client 2025-08-21 01:42:59,984 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:43:00,074 - DEBUG - parse:599 - < PONG 'z\x06j\x1e' [text, 4 bytes]
websockets.client 2025-08-21 01:43:00,074 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:43:19,983 - DEBUG - send_frame:745 - > PING da 49 79 6c [binary, 4 bytes]
websockets.client 2025-08-21 01:43:19,987 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:43:20,079 - DEBUG - parse:599 - < PONG da 49 79 6c [binary, 4 bytes]
websockets.client 2025-08-21 01:43:20,079 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:43:39,984 - DEBUG - send_frame:745 - > PING 0e 61 b8 ca [binary, 4 bytes]
websockets.client 2025-08-21 01:43:39,986 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:43:40,077 - DEBUG - parse:599 - < PONG 0e 61 b8 ca [binary, 4 bytes]
websockets.client 2025-08-21 01:43:40,078 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:43:59,986 - DEBUG - send_frame:745 - > PING 1f 4c df 0d [binary, 4 bytes]
websockets.client 2025-08-21 01:43:59,990 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:44:00,079 - DEBUG - parse:599 - < PONG 1f 4c df 0d [binary, 4 bytes]
websockets.client 2025-08-21 01:44:00,081 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:44:19,990 - DEBUG - send_frame:745 - > PING 36 9f 4c b9 [binary, 4 bytes]
websockets.client 2025-08-21 01:44:19,991 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:44:20,087 - DEBUG - parse:599 - < PONG 36 9f 4c b9 [binary, 4 bytes]
websockets.client 2025-08-21 01:44:20,087 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:44:39,991 - DEBUG - send_frame:745 - > PING 1d 9e 6f f4 [binary, 4 bytes]
websockets.client 2025-08-21 01:44:39,992 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:44:40,082 - DEBUG - parse:599 - < PONG 1d 9e 6f f4 [binary, 4 bytes]
websockets.client 2025-08-21 01:44:40,083 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:44:59,993 - DEBUG - send_frame:745 - > PING af af d9 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:44:59,995 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:45:00,086 - DEBUG - parse:599 - < PONG af af d9 d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:45:00,087 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:45:19,995 - DEBUG - send_frame:745 - > PING 37 b9 e1 5a [binary, 4 bytes]
websockets.client 2025-08-21 01:45:19,999 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:45:20,089 - DEBUG - parse:599 - < PONG 37 b9 e1 5a [binary, 4 bytes]
websockets.client 2025-08-21 01:45:20,090 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:45:39,997 - DEBUG - send_frame:745 - > PING 79 94 66 a0 [binary, 4 bytes]
websockets.client 2025-08-21 01:45:39,999 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:45:40,089 - DEBUG - parse:599 - < PONG 79 94 66 a0 [binary, 4 bytes]
websockets.client 2025-08-21 01:45:40,090 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:45:59,999 - DEBUG - send_frame:745 - > PING 48 8f 69 72 [binary, 4 bytes]
websockets.client 2025-08-21 01:46:00,000 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:46:00,089 - DEBUG - parse:599 - < PONG 48 8f 69 72 [binary, 4 bytes]
websockets.client 2025-08-21 01:46:00,090 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:46:20,000 - DEBUG - send_frame:745 - > PING 47 92 2a d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:46:20,001 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:46:20,091 - DEBUG - parse:599 - < PONG 47 92 2a d4 [binary, 4 bytes]
websockets.client 2025-08-21 01:46:20,092 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:46:40,002 - DEBUG - send_frame:745 - > PING e8 79 7e dd [binary, 4 bytes]
websockets.client 2025-08-21 01:46:40,006 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:46:40,098 - DEBUG - parse:599 - < PONG e8 79 7e dd [binary, 4 bytes]
websockets.client 2025-08-21 01:46:40,099 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:47:00,004 - DEBUG - send_frame:745 - > PING '^K\x1f ' [text, 4 bytes]
websockets.client 2025-08-21 01:47:00,004 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:47:00,094 - DEBUG - parse:599 - < PONG '^K\x1f ' [text, 4 bytes]
websockets.client 2025-08-21 01:47:00,094 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:47:20,004 - DEBUG - send_frame:745 - > PING ff 9f e9 bb [binary, 4 bytes]
websockets.client 2025-08-21 01:47:20,006 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:47:20,095 - DEBUG - parse:599 - < PONG ff 9f e9 bb [binary, 4 bytes]
websockets.client 2025-08-21 01:47:20,096 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:47:40,006 - DEBUG - send_frame:745 - > PING '\x1dOԂ' [text, 4 bytes]
websockets.client 2025-08-21 01:47:40,009 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:47:40,048 - DEBUG - parse:599 - < CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:47:40,049 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:47:40,049 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:47:40,141 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:47:40,141 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:47:40,141 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:47:40,142 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:47:40,143 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
livekit.plugins.google 2025-08-21 01:47:40,147 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:47:40,148 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:47:40,229 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:294 - > Sec-WebSocket-Key: 9wZEymIqiyHXnzlXD93fCg==
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:47:40,328 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:47:40,329 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:47:40,329 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:47:40,329 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:47:40,421 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:47:40,422 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:47:40,422 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:47:40,422 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:47:40,423 - DEBUG - parse:320 - < Sec-WebSocket-Accept: cTEZYu7D9no+q8vJlZ4kXX+5xjI=
websockets.client 2025-08-21 01:47:40,423 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:47:40 GMT
websockets.client 2025-08-21 01:47:40,423 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=15
websockets.client 2025-08-21 01:47:40,423 - DEBUG - parse:320 - < Set-Cookie: S==Z96WQA5T1YcwFj2aPr0kNheG4CDS5B7nTjpTL1V7ffg; path=/; priority=low
websockets.client 2025-08-21 01:47:40,423 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:47:40,424 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:47:40,424 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:47:40,755 - DEBUG - parse:599 - < BINARY 7b 0a 20 20 22 73 65 74 75 70 43 6f 6d 70 6c 65 ... 22 3a 20 7b 7d 0a 7d 0a [26 bytes]
google_genai.live 2025-08-21 01:47:40,756 - INFO - connect:1057 - b'{\n  "setupComplete": {}\n}\n'
websockets.client 2025-08-21 01:47:40,757 - DEBUG - send_frame:745 - > TEXT '{"client_content": {"turns": [{"parts": [{"text..."turnComplete": false}}' [251 bytes]
websockets.client 2025-08-21 01:48:00,426 - DEBUG - send_frame:745 - > PING e6 91 db 00 [binary, 4 bytes]
websockets.client 2025-08-21 01:48:00,426 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:48:00,516 - DEBUG - parse:599 - < PONG e6 91 db 00 [binary, 4 bytes]
websockets.client 2025-08-21 01:48:00,516 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:48:20,427 - DEBUG - send_frame:745 - > PING 06 17 59 e6 [binary, 4 bytes]
websockets.client 2025-08-21 01:48:20,428 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:48:20,518 - DEBUG - parse:599 - < PONG 06 17 59 e6 [binary, 4 bytes]
websockets.client 2025-08-21 01:48:20,518 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:48:40,429 - DEBUG - send_frame:745 - > PING '#_]\x1e' [text, 4 bytes]
websockets.client 2025-08-21 01:48:40,432 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:48:40,521 - DEBUG - parse:599 - < PONG '#_]\x1e' [text, 4 bytes]
websockets.client 2025-08-21 01:48:40,523 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:49:00,432 - DEBUG - send_frame:745 - > PING 25 f5 db 9a [binary, 4 bytes]
websockets.client 2025-08-21 01:49:00,435 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:49:00,525 - DEBUG - parse:599 - < PONG 25 f5 db 9a [binary, 4 bytes]
websockets.client 2025-08-21 01:49:00,526 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:49:20,434 - DEBUG - send_frame:745 - > PING ec 44 54 35 [binary, 4 bytes]
websockets.client 2025-08-21 01:49:20,437 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:49:20,527 - DEBUG - parse:599 - < PONG ec 44 54 35 [binary, 4 bytes]
websockets.client 2025-08-21 01:49:20,528 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:49:40,436 - DEBUG - send_frame:745 - > PING 36 a4 8e d8 [binary, 4 bytes]
websockets.client 2025-08-21 01:49:40,436 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:49:40,527 - DEBUG - parse:599 - < PONG 36 a4 8e d8 [binary, 4 bytes]
websockets.client 2025-08-21 01:49:40,527 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:50:00,443 - DEBUG - send_frame:745 - > PING ac e4 8f 2e [binary, 4 bytes]
websockets.client 2025-08-21 01:50:00,445 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:50:00,554 - DEBUG - parse:599 - < PONG ac e4 8f 2e [binary, 4 bytes]
websockets.client 2025-08-21 01:50:00,555 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:50:20,445 - DEBUG - send_frame:745 - > PING 42 af 26 b2 [binary, 4 bytes]
websockets.client 2025-08-21 01:50:20,448 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:50:20,537 - DEBUG - parse:599 - < PONG 42 af 26 b2 [binary, 4 bytes]
websockets.client 2025-08-21 01:50:20,538 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:50:40,447 - DEBUG - send_frame:745 - > PING 6f 30 a9 1b [binary, 4 bytes]
websockets.client 2025-08-21 01:50:40,451 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:50:40,541 - DEBUG - parse:599 - < PONG 6f 30 a9 1b [binary, 4 bytes]
websockets.client 2025-08-21 01:50:40,542 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:51:00,449 - DEBUG - send_frame:745 - > PING 75 25 67 c6 [binary, 4 bytes]
websockets.client 2025-08-21 01:51:00,451 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:51:00,542 - DEBUG - parse:599 - < PONG 75 25 67 c6 [binary, 4 bytes]
websockets.client 2025-08-21 01:51:00,543 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:51:20,451 - DEBUG - send_frame:745 - > PING 82 9d 7e 35 [binary, 4 bytes]
websockets.client 2025-08-21 01:51:20,453 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:51:20,546 - DEBUG - parse:599 - < PONG 82 9d 7e 35 [binary, 4 bytes]
websockets.client 2025-08-21 01:51:20,547 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:51:40,453 - DEBUG - send_frame:745 - > PING da d0 e8 94 [binary, 4 bytes]
websockets.client 2025-08-21 01:51:40,456 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:51:40,545 - DEBUG - parse:599 - < PONG da d0 e8 94 [binary, 4 bytes]
websockets.client 2025-08-21 01:51:40,546 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:52:00,456 - DEBUG - send_frame:745 - > PING e4 56 68 26 [binary, 4 bytes]
websockets.client 2025-08-21 01:52:00,460 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:52:00,550 - DEBUG - parse:599 - < PONG e4 56 68 26 [binary, 4 bytes]
websockets.client 2025-08-21 01:52:00,550 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:52:20,457 - DEBUG - send_frame:745 - > PING ed 92 58 34 [binary, 4 bytes]
websockets.client 2025-08-21 01:52:20,458 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:52:20,547 - DEBUG - parse:599 - < PONG ed 92 58 34 [binary, 4 bytes]
websockets.client 2025-08-21 01:52:20,548 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:52:40,458 - DEBUG - send_frame:745 - > PING f5 71 4e 7c [binary, 4 bytes]
websockets.client 2025-08-21 01:52:40,460 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:52:40,551 - DEBUG - parse:599 - < PONG f5 71 4e 7c [binary, 4 bytes]
websockets.client 2025-08-21 01:52:40,552 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:53:00,460 - DEBUG - send_frame:745 - > PING 9b 20 5a a0 [binary, 4 bytes]
websockets.client 2025-08-21 01:53:00,463 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:53:00,554 - DEBUG - parse:599 - < PONG 9b 20 5a a0 [binary, 4 bytes]
websockets.client 2025-08-21 01:53:00,555 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:53:20,461 - DEBUG - send_frame:745 - > PING d8 67 f5 52 [binary, 4 bytes]
websockets.client 2025-08-21 01:53:20,461 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:53:20,551 - DEBUG - parse:599 - < PONG d8 67 f5 52 [binary, 4 bytes]
websockets.client 2025-08-21 01:53:20,551 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:53:40,462 - DEBUG - send_frame:745 - > PING 36 32 e0 16 [binary, 4 bytes]
websockets.client 2025-08-21 01:53:40,463 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:53:40,555 - DEBUG - parse:599 - < PONG 36 32 e0 16 [binary, 4 bytes]
websockets.client 2025-08-21 01:53:40,556 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:54:00,464 - DEBUG - send_frame:745 - > PING 3b 9b 24 3f [binary, 4 bytes]
websockets.client 2025-08-21 01:54:00,465 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:54:00,562 - DEBUG - parse:599 - < PONG 3b 9b 24 3f [binary, 4 bytes]
websockets.client 2025-08-21 01:54:00,562 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:54:20,465 - DEBUG - send_frame:745 - > PING '{$\x12U' [text, 4 bytes]
websockets.client 2025-08-21 01:54:20,467 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:54:20,561 - DEBUG - parse:599 - < PONG '{$\x12U' [text, 4 bytes]
websockets.client 2025-08-21 01:54:20,563 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:54:40,467 - DEBUG - send_frame:745 - > PING 3f 94 1d a5 [binary, 4 bytes]
websockets.client 2025-08-21 01:54:40,468 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:54:40,558 - DEBUG - parse:599 - < PONG 3f 94 1d a5 [binary, 4 bytes]
websockets.client 2025-08-21 01:54:40,559 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:55:00,473 - DEBUG - send_frame:745 - > PING 56 0b 0f b4 [binary, 4 bytes]
websockets.client 2025-08-21 01:55:00,475 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:55:00,564 - DEBUG - parse:599 - < PONG 56 0b 0f b4 [binary, 4 bytes]
websockets.client 2025-08-21 01:55:00,565 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:55:20,476 - DEBUG - send_frame:745 - > PING 2e df 51 37 [binary, 4 bytes]
websockets.client 2025-08-21 01:55:20,478 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:55:20,570 - DEBUG - parse:599 - < PONG 2e df 51 37 [binary, 4 bytes]
websockets.client 2025-08-21 01:55:20,571 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:55:40,479 - DEBUG - send_frame:745 - > PING '۷5\x7f' [text, 4 bytes]
websockets.client 2025-08-21 01:55:40,481 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:55:40,571 - DEBUG - parse:599 - < PONG '۷5\x7f' [text, 4 bytes]
websockets.client 2025-08-21 01:55:40,574 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:56:00,482 - DEBUG - send_frame:745 - > PING '\x12\x11S ' [text, 4 bytes]
websockets.client 2025-08-21 01:56:00,485 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:56:00,577 - DEBUG - parse:599 - < PONG '\x12\x11S ' [text, 4 bytes]
websockets.client 2025-08-21 01:56:00,577 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:56:20,484 - DEBUG - send_frame:745 - > PING 2f 66 c2 3a [binary, 4 bytes]
websockets.client 2025-08-21 01:56:20,487 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:56:20,577 - DEBUG - parse:599 - < PONG 2f 66 c2 3a [binary, 4 bytes]
websockets.client 2025-08-21 01:56:20,578 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:56:40,486 - DEBUG - send_frame:745 - > PING eb eb 8b 59 [binary, 4 bytes]
websockets.client 2025-08-21 01:56:40,487 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:56:40,578 - DEBUG - parse:599 - < PONG eb eb 8b 59 [binary, 4 bytes]
websockets.client 2025-08-21 01:56:40,579 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:57:00,487 - DEBUG - send_frame:745 - > PING cc 19 a1 a1 [binary, 4 bytes]
websockets.client 2025-08-21 01:57:00,489 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:57:00,580 - DEBUG - parse:599 - < PONG cc 19 a1 a1 [binary, 4 bytes]
websockets.client 2025-08-21 01:57:00,580 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:57:20,489 - DEBUG - send_frame:745 - > PING 57 30 83 71 [binary, 4 bytes]
websockets.client 2025-08-21 01:57:20,495 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:57:20,585 - DEBUG - parse:599 - < PONG 57 30 83 71 [binary, 4 bytes]
websockets.client 2025-08-21 01:57:20,585 - DEBUG - keepalive:834 - % received keepalive pong
websockets.client 2025-08-21 01:57:40,491 - DEBUG - send_frame:745 - > PING bf 7b 0d 59 [binary, 4 bytes]
websockets.client 2025-08-21 01:57:40,493 - DEBUG - keepalive:824 - % sent keepalive ping
websockets.client 2025-08-21 01:57:40,522 - DEBUG - parse:599 - < CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:57:40,522 - DEBUG - send_frame:745 - > CLOSE 1011 (internal error) The service is currently unavailable. [39 bytes]
websockets.client 2025-08-21 01:57:40,522 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:57:40,614 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:57:40,615 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:57:40,615 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:57:40,615 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:57:40,616 - ERROR - _recv_task:740 - error in receive task: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 703, in _recv_task
    async for response in session.receive():
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<31 lines>...
            self._num_retries = 0  # reset the retry counter
            ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 443, in receive
    while result := await self._receive():
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 524, in _receive
    raw_response = await self._ws.recv(decode=False)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1011 (internal error) The service is currently unavailable.; then sent 1011 (internal error) The service is currently unavailable.
livekit.plugins.google 2025-08-21 01:57:40,618 - DEBUG - _send_task:691 - send task finished.
livekit.plugins.google 2025-08-21 01:57:40,619 - DEBUG - _main_task:590 - connecting to Gemini Realtime API...
websockets.client 2025-08-21 01:57:40,699 - DEBUG - state:175 - = connection is CONNECTING
websockets.client 2025-08-21 01:57:40,801 - DEBUG - send_request:292 - > GET //ws/google.ai.generativelanguage.v1beta.GenerativeService.BidiGenerateContent HTTP/1.1
websockets.client 2025-08-21 01:57:40,802 - DEBUG - send_request:294 - > Host: generativelanguage.googleapis.com
websockets.client 2025-08-21 01:57:40,802 - DEBUG - send_request:294 - > Upgrade: websocket
websockets.client 2025-08-21 01:57:40,802 - DEBUG - send_request:294 - > Connection: Upgrade
websockets.client 2025-08-21 01:57:40,802 - DEBUG - send_request:294 - > Sec-WebSocket-Key: C3KAI3LlB7MytwflPAvmrQ==
websockets.client 2025-08-21 01:57:40,803 - DEBUG - send_request:294 - > Sec-WebSocket-Version: 13
websockets.client 2025-08-21 01:57:40,803 - DEBUG - send_request:294 - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
websockets.client 2025-08-21 01:57:40,803 - DEBUG - send_request:294 - > Content-Type: application/json
websockets.client 2025-08-21 01:57:40,803 - DEBUG - send_request:294 - > x-goog-api-key: AIzaSyCMhmRvX6U0PjXHNCHeivZQhJLps8-nbQs
websockets.client 2025-08-21 01:57:40,803 - DEBUG - send_request:294 - > user-agent: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:57:40,803 - DEBUG - send_request:294 - > x-goog-api-client: google-genai-sdk/1.31.0 gl-python/3.13.5
websockets.client 2025-08-21 01:57:40,898 - DEBUG - parse:318 - < HTTP/1.1 101 Switching Protocols
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < X-Client-Wire-Protocol: HTTP/1.1
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < Connection: Upgrade
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < Upgrade: websocket
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < Sec-WebSocket-Accept: BCplgMZEe/+/Sb1GPQNmaYyF7TU=
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < Date: Wed, 20 Aug 2025 22:57:40 GMT
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < Server-Timing: gfet4t7; dur=17
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < Set-Cookie: S==L7OAZqLg5YooOq-9UGwI2OBX7C0-wIke0baJr2fjnFo; path=/; priority=low
websockets.client 2025-08-21 01:57:40,899 - DEBUG - parse:320 - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
websockets.client 2025-08-21 01:57:40,899 - DEBUG - state:175 - = connection is OPEN
websockets.client 2025-08-21 01:57:40,899 - DEBUG - send_frame:745 - > TEXT '{"setup": {"model": "models/gemini-2.0-flash-ex...dioTranscription": {}}}' [493 bytes]
websockets.client 2025-08-21 01:57:41,148 - DEBUG - parse:599 - < CLOSE 1008 (policy violation) BidiGenerateContent session not found [39 bytes]
websockets.client 2025-08-21 01:57:41,148 - DEBUG - send_frame:745 - > CLOSE 1008 (policy violation) BidiGenerateContent session not found [39 bytes]
websockets.client 2025-08-21 01:57:41,148 - DEBUG - state:175 - = connection is CLOSING
websockets.client 2025-08-21 01:57:41,239 - DEBUG - discard:649 - < EOF
websockets.client 2025-08-21 01:57:41,239 - DEBUG - send_eof:757 - > EOF
websockets.client 2025-08-21 01:57:41,239 - DEBUG - state:175 - = connection is CLOSED
websockets.client 2025-08-21 01:57:41,239 - DEBUG - send_data:984 - x closing TCP connection
livekit.plugins.google 2025-08-21 01:57:41,240 - ERROR - _main_task:635 - Gemini Realtime API error: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 591, in _main_task
    async with self._client.aio.live.connect(
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model=self._opts.model, config=config
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as session:
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 1057, in connect
    logger.info(await ws.recv(decode=False))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found
livekit.agents 2025-08-21 01:57:41,243 - ERROR - _on_error:888 - AgentSession is closing due to unrecoverable error
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 591, in _main_task
    async with self._client.aio.live.connect(
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model=self._opts.model, config=config
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as session:
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 1057, in connect
    logger.info(await ws.recv(decode=False))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found
livekit.plugins.google 2025-08-21 01:57:41,244 - ERROR - async_fn_logs:21 - Error in _main_task
Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 591, in _main_task
    async with self._client.aio.live.connect(
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        model=self._opts.model, config=config
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as session:
    ^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/google/genai/live.py", line 1057, in connect
    logger.info(await ws.recv(decode=False))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: received 1008 (policy violation) BidiGenerateContent session not found; then sent 1008 (policy violation) BidiGenerateContent session not found

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/al-husseinabdullah/Desktop/skinior/agent/.venv/lib/python3.13/site-packages/livekit/plugins/google/beta/realtime/realtime_api.py", line 641, in _main_task
    raise APIConnectionError(message="Failed to connect to Gemini Live") from e
livekit.agents._exceptions.APIConnectionError: Failed to connect to Gemini Live (body=None, retryable=True)

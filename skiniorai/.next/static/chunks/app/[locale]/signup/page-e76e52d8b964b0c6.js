(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{184:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(2115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...o}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},4449:(e,t,s)=>{Promise.resolve().then(s.bind(s,9864))},8367:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,A:()=>c});var r=s(5155),a=s(2115);class o{async handleResponse(e){if(!e.ok){let t;try{t=await e.json()}catch{t={message:"An error occurred"}}throw Error(t.message||"Authentication failed")}let t=await e.json();return t.data||t}async login(e){let t=await fetch(`${this.baseUrl}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await this.handleResponse(t);return s.accessToken&&localStorage.setItem("access_token",s.accessToken),s}async register(e){let t=await fetch(`${this.baseUrl}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await this.handleResponse(t);return s.accessToken&&localStorage.setItem("access_token",s.accessToken),s}async getProfile(){let e=this.getToken();if(!e)throw Error("No authentication token found");let t=await fetch(`${this.baseUrl}/auth/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return t.ok||await t.text(),(await this.handleResponse(t)).user}getToken(){return localStorage.getItem("access_token")}logout(){localStorage.removeItem("access_token")}isAuthenticated(){return!!this.getToken()}constructor(){this.baseUrl="http://localhost:4008/api"}}let i=new o,n=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{if(i.isAuthenticated()){let e=await i.getProfile();o(e)}}catch(e){i.logout()}finally{c(!1)}})()},[]);let d=async(e,t)=>{try{let s=await i.login({email:e,password:t});o(s.user)}catch(e){throw e}},m=async(e,t,s,r,a)=>{try{let n=await i.register({firstName:e,lastName:t,email:s,password:r,phone:a});o(n.user)}catch(e){throw e}};return(0,r.jsx)(n.Provider,{value:{user:s,loading:l,login:d,register:m,logout:()=>{i.logout(),o(null)},isAuthenticated:!!s},children:t})}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8987:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(2115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...o}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})},9864:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(5155),a=s(2115),o=s(5695),i=s(2550),n=s(6874),l=s.n(n),c=s(6766),d=s(8987),m=s(184);let u=a.forwardRef(function(e,t){let{title:s,titleId:r,...o}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});var h=s(8367);function x(){let e=(0,o.useRouter)(),t=(0,i.Ym)(),{register:s}=(0,h.A)(),[n,x]=(0,a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[f,g]=(0,a.useState)({}),[p,b]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),v="ar"===t,k={hasMinLength:n.password.length>=8,hasUpperCase:/[A-Z]/.test(n.password),hasLowerCase:/[a-z]/.test(n.password),hasNumber:/\d/.test(n.password)},$=Object.values(k).every(Boolean),C=async r=>{if(r.preventDefault(),(()=>{let e={};return n.firstName.trim()?n.firstName.trim().length<2&&(e.firstName=v?"الاسم الأول يجب أن يكون حرفين على الأقل":"First name must be at least 2 characters"):e.firstName=v?"الاسم الأول مطلوب":"First name is required",n.lastName.trim()?n.lastName.trim().length<2&&(e.lastName=v?"الاسم الأخير يجب أن يكون حرفين على الأقل":"Last name must be at least 2 characters"):e.lastName=v?"الاسم الأخير مطلوب":"Last name is required",n.email?/\S+@\S+\.\S+/.test(n.email)||(e.email=v?"صيغة البريد الإلكتروني غير صحيحة":"Email format is invalid"):e.email=v?"البريد الإلكتروني مطلوب":"Email is required",n.password?$||(e.password=v?"كلمة المرور ضعيفة":"Password is too weak"):e.password=v?"كلمة المرور مطلوبة":"Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(e.confirmPassword=v?"كلمات المرور غير متطابقة":"Passwords do not match"):e.confirmPassword=v?"تأكيد كلمة المرور مطلوب":"Password confirmation is required",n.agreeToTerms||(e.agreeToTerms=v?"يجب الموافقة على الشروط والأحكام":"You must agree to the terms and conditions"),g(e),0===Object.keys(e).length})()){b(!0);try{await s(n.firstName,n.lastName,n.email,n.password),e.push(`/${t}/dashboard`)}catch(e){g({submit:e instanceof Error?e.message:v?"فشل في إنشاء الحساب":"Failed to create account"})}finally{b(!1)}}},P=e=>{let{name:t,value:s,type:r,checked:a}=e.target;x(e=>({...e,[t]:"checkbox"===r?a:s})),f[t]&&g(e=>({...e,[t]:""}))};return(0,r.jsx)("div",{className:`min-h-screen bg-white ${v?"rtl font-cairo":"ltr"}`,dir:v?"rtl":"ltr",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-screen",children:[(0,r.jsx)("div",{className:"flex items-center justify-center p-6 lg:p-12 order-2 lg:order-1",children:(0,r.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,r.jsxs)("div",{className:`text-center ${v?"text-right":"text-left"}`,children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-blue-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-xl",children:"S"})})}),(0,r.jsx)("h1",{className:`text-3xl font-bold text-gray-900 mb-2 ${v?"font-cairo":""}`,children:v?"إنشاء حساب جديد":"Create your account"}),(0,r.jsx)("p",{className:`text-gray-600 ${v?"font-cairo":""}`,children:v?"ابدأي رحلة العناية ببشرتك اليوم":"Start your personalized skincare journey today"})]}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[f.submit&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm",children:f.submit}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"firstName",className:`block text-sm font-medium text-gray-700 mb-2 ${v?"font-cairo":""}`,children:v?"الاسم الأول":"First name"}),(0,r.jsx)("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:n.firstName,onChange:P,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${f.firstName?"border-red-300":"border-gray-300"} ${v?"font-cairo text-right":""}`,placeholder:v?"أدخلي اسمك الأول":"Enter your first name"}),f.firstName&&(0,r.jsx)("p",{className:`mt-1 text-sm text-red-600 ${v?"font-cairo":""}`,children:f.firstName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"lastName",className:`block text-sm font-medium text-gray-700 mb-2 ${v?"font-cairo":""}`,children:v?"الاسم الأخير":"Last name"}),(0,r.jsx)("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:n.lastName,onChange:P,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${f.lastName?"border-red-300":"border-gray-300"} ${v?"font-cairo text-right":""}`,placeholder:v?"أدخلي اسمك الأخير":"Enter your last name"}),f.lastName&&(0,r.jsx)("p",{className:`mt-1 text-sm text-red-600 ${v?"font-cairo":""}`,children:f.lastName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:`block text-sm font-medium text-gray-700 mb-2 ${v?"font-cairo":""}`,children:v?"البريد الإلكتروني":"Email address"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:P,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${f.email?"border-red-300":"border-gray-300"} ${v?"font-cairo text-right":""}`,placeholder:v?"أدخلي بريدك الإلكتروني":"Enter your email"}),f.email&&(0,r.jsx)("p",{className:`mt-1 text-sm text-red-600 ${v?"font-cairo":""}`,children:f.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:`block text-sm font-medium text-gray-700 mb-2 ${v?"font-cairo":""}`,children:v?"كلمة المرور":"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"password",name:"password",type:w?"text":"password",autoComplete:"new-password",required:!0,value:n.password,onChange:P,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${f.password?"border-red-300":"border-gray-300"} ${v?"font-cairo text-right pr-12":"pr-12"}`,placeholder:v?"أدخلي كلمة مرور قوية":"Enter a strong password"}),(0,r.jsx)("button",{type:"button",className:`absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 ${v?"left-3":"right-3"}`,onClick:()=>N(!w),children:w?(0,r.jsx)(d.A,{className:"h-5 w-5"}):(0,r.jsx)(m.A,{className:"h-5 w-5"})})]}),n.password&&(0,r.jsx)("div",{className:"mt-2 space-y-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,r.jsxs)("div",{className:`flex items-center gap-1 ${k.hasMinLength?"text-green-600":"text-gray-400"}`,children:[(0,r.jsx)(u,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:v?"font-cairo":"",children:v?"8 أحرف على الأقل":"8+ characters"})]}),(0,r.jsxs)("div",{className:`flex items-center gap-1 ${k.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[(0,r.jsx)(u,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:v?"font-cairo":"",children:v?"حرف كبير":"Uppercase"})]}),(0,r.jsxs)("div",{className:`flex items-center gap-1 ${k.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[(0,r.jsx)(u,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:v?"font-cairo":"",children:v?"حرف صغير":"Lowercase"})]}),(0,r.jsxs)("div",{className:`flex items-center gap-1 ${k.hasNumber?"text-green-600":"text-gray-400"}`,children:[(0,r.jsx)(u,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:v?"font-cairo":"",children:v?"رقم":"Number"})]})]})}),f.password&&(0,r.jsx)("p",{className:`mt-1 text-sm text-red-600 ${v?"font-cairo":""}`,children:f.password})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium text-gray-700 mb-2 ${v?"font-cairo":""}`,children:v?"تأكيد كلمة المرور":"Confirm password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:j?"text":"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:P,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${f.confirmPassword?"border-red-300":"border-gray-300"} ${v?"font-cairo text-right pr-12":"pr-12"}`,placeholder:v?"أعيدي إدخال كلمة المرور":"Confirm your password"}),(0,r.jsx)("button",{type:"button",className:`absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 ${v?"left-3":"right-3"}`,onClick:()=>y(!j),children:j?(0,r.jsx)(d.A,{className:"h-5 w-5"}):(0,r.jsx)(m.A,{className:"h-5 w-5"})})]}),f.confirmPassword&&(0,r.jsx)("p",{className:`mt-1 text-sm text-red-600 ${v?"font-cairo":""}`,children:f.confirmPassword})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",name:"agreeToTerms",checked:n.agreeToTerms,onChange:P,className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:`text-sm text-gray-600 ${v?"font-cairo text-right":""}`,children:v?(0,r.jsxs)(r.Fragment,{children:["أوافق على"," ",(0,r.jsx)(l(),{href:`/${t}/terms`,className:"text-blue-600 hover:text-blue-700 underline",children:"الشروط والأحكام"})," ","و"," ",(0,r.jsx)(l(),{href:`/${t}/privacy`,className:"text-blue-600 hover:text-blue-700 underline",children:"سياسة الخصوصية"})]}):(0,r.jsxs)(r.Fragment,{children:["I agree to the"," ",(0,r.jsx)(l(),{href:`/${t}/terms`,className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",(0,r.jsx)(l(),{href:`/${t}/privacy`,className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})]})})]}),f.agreeToTerms&&(0,r.jsx)("p",{className:`mt-1 text-sm text-red-600 ${v?"font-cairo":""}`,children:f.agreeToTerms})]}),(0,r.jsx)("button",{type:"submit",disabled:p,className:`w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 text-white py-3 px-4 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 ${v?"font-cairo":""}`,children:p?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v?"جاري إنشاء الحساب...":"Creating account..."]}):v?"إنشاء حساب":"Create account"})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:`text-gray-600 ${v?"font-cairo":""}`,children:[v?"لديك حساب بالفعل؟ ":"Already have an account? ",(0,r.jsx)(l(),{href:`/${t}/login`,className:`text-blue-600 hover:text-blue-700 font-medium ${v?"font-cairo":""}`,children:v?"تسجيل الدخول":"Sign in"})]})})]})}),(0,r.jsxs)("div",{className:"hidden lg:block relative bg-gradient-to-br from-purple-50 to-blue-100 order-1 lg:order-2",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 to-blue-600/20"}),(0,r.jsx)(c.default,{src:"/hero/hero2.webp",alt:v?"تحليل البشرة الشخصي":"Personalized skin analysis",fill:!0,className:"object-cover",priority:!0,quality:85}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-black/20 to-transparent"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-end p-12",children:(0,r.jsxs)("div",{className:"text-white max-w-md",children:[(0,r.jsx)("h2",{className:`text-3xl font-bold mb-4 ${v?"font-cairo":""}`,children:v?"انضمي إلى آلاف النساء":"Join thousands of women"}),(0,r.jsx)("p",{className:`text-lg opacity-90 ${v?"font-cairo":""}`,children:v?"اللواتي اكتشفن أسرار جمال بشرتهن مع تقنياتنا المتطورة":"Who have discovered their skin's potential with our advanced technology"}),(0,r.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u,{className:"h-5 w-5 text-green-400"}),(0,r.jsx)("span",{className:v?"font-cairo":"",children:v?"تحليل مجاني ومفصل":"Free detailed analysis"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u,{className:"h-5 w-5 text-green-400"}),(0,r.jsx)("span",{className:v?"font-cairo":"",children:v?"توصيات شخصية":"Personalized recommendations"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u,{className:"h-5 w-5 text-green-400"}),(0,r.jsx)("span",{className:v?"font-cairo":"",children:v?"متابعة مستمرة":"Ongoing support"})]})]})]})})]})]})})}}},e=>{e.O(0,[119,874,766,441,964,977],()=>e(e.s=4449)),_N_E=e.O()}]);
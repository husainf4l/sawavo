(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{184:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},5300:(e,t,r)=>{Promise.resolve().then(r.bind(r,9573))},8367:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>l,A:()=>c});var s=r(5155),a=r(2115);class o{async handleResponse(e){if(!e.ok){let t;try{t=await e.json()}catch{t={message:"An error occurred"}}throw Error(t.message||"Authentication failed")}let t=await e.json();return t.data||t}async login(e){let t=await fetch(`${this.baseUrl}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await this.handleResponse(t);return r.accessToken&&localStorage.setItem("access_token",r.accessToken),r}async register(e){let t=await fetch(`${this.baseUrl}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await this.handleResponse(t);return r.accessToken&&localStorage.setItem("access_token",r.accessToken),r}async getProfile(){let e=this.getToken();if(!e)throw Error("No authentication token found");let t=await fetch(`${this.baseUrl}/auth/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return t.ok||await t.text(),(await this.handleResponse(t)).user}getToken(){return localStorage.getItem("access_token")}logout(){localStorage.removeItem("access_token")}isAuthenticated(){return!!this.getToken()}constructor(){this.baseUrl="http://localhost:4008/api"}}let i=new o,n=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{if(i.isAuthenticated()){let e=await i.getProfile();o(e)}}catch(e){i.logout()}finally{c(!1)}})()},[]);let d=async(e,t)=>{try{let r=await i.login({email:e,password:t});o(r.user)}catch(e){throw e}},u=async(e,t,r,s,a)=>{try{let n=await i.register({firstName:e,lastName:t,email:r,password:s,phone:a});o(n.user)}catch(e){throw e}};return(0,s.jsx)(n.Provider,{value:{user:r,loading:l,login:d,register:u,logout:()=>{i.logout(),o(null)},isAuthenticated:!!r},children:t})}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8987:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})},9573:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(5155),a=r(2115),o=r(5695),i=r(2550),n=r(6874),l=r.n(n),c=r(6766),d=r(8987),u=r(184),m=r(8367);function h(){let e=(0,o.useRouter)(),t=(0,i.Ym)(),{login:r}=(0,m.A)(),[n,h]=(0,a.useState)({email:"",password:""}),[f,g]=(0,a.useState)({}),[x,p]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),y="ar"===t,j=async s=>{if(s.preventDefault(),(()=>{let e={};return n.email?/\S+@\S+\.\S+/.test(n.email)||(e.email=y?"صيغة البريد الإلكتروني غير صحيحة":"Email format is invalid"):e.email=y?"البريد الإلكتروني مطلوب":"Email is required",n.password?n.password.length<6&&(e.password=y?"كلمة المرور يجب أن تكون 6 أحرف على الأقل":"Password must be at least 6 characters"):e.password=y?"كلمة المرور مطلوبة":"Password is required",g(e),0===Object.keys(e).length})()){p(!0);try{await r(n.email,n.password),e.push(`/${t}/dashboard`)}catch(e){g({submit:e instanceof Error?e.message:y?"فشل في تسجيل الدخول":"Login failed"})}finally{p(!1)}}},v=e=>{let{name:t,value:r}=e.target;h(e=>({...e,[t]:r})),f[t]&&g(e=>({...e,[t]:""}))};return(0,s.jsx)("div",{className:`min-h-screen bg-white ${y?"rtl font-cairo":"ltr"}`,dir:y?"rtl":"ltr",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-screen",children:[(0,s.jsxs)("div",{className:"hidden lg:block relative bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-purple-600/20"}),(0,s.jsx)(c.default,{src:"/hero/hero1.webp",alt:y?"تحليل البشرة المتقدم":"Advanced skin analysis",fill:!0,className:"object-cover",priority:!0,quality:85}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-black/20 to-transparent"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-end p-12",children:(0,s.jsxs)("div",{className:"text-white max-w-md",children:[(0,s.jsx)("h2",{className:`text-3xl font-bold mb-4 ${y?"font-cairo":""}`,children:y?"اكتشفي إمكانيات بشرتك الحقيقية":"Discover Your Skin's True Potential"}),(0,s.jsx)("p",{className:`text-lg opacity-90 ${y?"font-cairo":""}`,children:y?"تكنولوجيا متطورة لتحليل البشرة وتقديم حلول مخصصة لك":"Advanced AI technology for personalized skincare analysis and recommendations"})]})})]}),(0,s.jsx)("div",{className:"flex items-center justify-center p-6 lg:p-12",children:(0,s.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,s.jsxs)("div",{className:`text-center ${y?"text-right":"text-left"}`,children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"S"})})}),(0,s.jsx)("h1",{className:`text-3xl font-bold text-gray-900 mb-2 ${y?"font-cairo":""}`,children:y?"مرحباً بعودتك":"Welcome back"}),(0,s.jsx)("p",{className:`text-gray-600 ${y?"font-cairo":""}`,children:y?"سجلي دخولك لمتابعة رحلة العناية ببشرتك":"Sign in to continue your skincare journey"})]}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[f.submit&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm",children:f.submit}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:`block text-sm font-medium text-gray-700 mb-2 ${y?"font-cairo":""}`,children:y?"البريد الإلكتروني":"Email address"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:v,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${f.email?"border-red-300":"border-gray-300"} ${y?"font-cairo text-right":""}`,placeholder:y?"أدخلي بريدك الإلكتروني":"Enter your email"}),f.email&&(0,s.jsx)("p",{className:`mt-1 text-sm text-red-600 ${y?"font-cairo":""}`,children:f.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:`block text-sm font-medium text-gray-700 mb-2 ${y?"font-cairo":""}`,children:y?"كلمة المرور":"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",name:"password",type:b?"text":"password",autoComplete:"current-password",required:!0,value:n.password,onChange:v,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${f.password?"border-red-300":"border-gray-300"} ${y?"font-cairo text-right pr-12":"pr-12"}`,placeholder:y?"أدخلي كلمة المرور":"Enter your password"}),(0,s.jsx)("button",{type:"button",className:`absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 ${y?"left-3":"right-3"}`,onClick:()=>w(!b),children:b?(0,s.jsx)(d.A,{className:"h-5 w-5"}):(0,s.jsx)(u.A,{className:"h-5 w-5"})})]}),f.password&&(0,s.jsx)("p",{className:`mt-1 text-sm text-red-600 ${y?"font-cairo":""}`,children:f.password})]}),(0,s.jsx)("div",{className:`text-right ${y?"text-left":""}`,children:(0,s.jsx)(l(),{href:`/${t}/forgot-password`,className:`text-sm text-blue-600 hover:text-blue-700 ${y?"font-cairo":""}`,children:y?"نسيت كلمة المرور؟":"Forgot your password?"})}),(0,s.jsx)("button",{type:"submit",disabled:x,className:`w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 text-white py-3 px-4 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 ${y?"font-cairo":""}`,children:x?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),y?"جاري تسجيل الدخول...":"Signing in..."]}):y?"تسجيل الدخول":"Sign in"})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:`text-gray-600 ${y?"font-cairo":""}`,children:[y?"ليس لديك حساب؟ ":"Don't have an account? ",(0,s.jsx)(l(),{href:`/${t}/signup`,className:`text-blue-600 hover:text-blue-700 font-medium ${y?"font-cairo":""}`,children:y?"إنشاء حساب جديد":"Sign up"})]})})]})})]})})}}},e=>{e.O(0,[119,874,766,441,964,977],()=>e(e.s=5300)),_N_E=e.O()}]);
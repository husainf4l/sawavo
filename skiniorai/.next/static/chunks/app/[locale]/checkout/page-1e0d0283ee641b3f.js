(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{1451:(e,t,r)=>{Promise.resolve().then(r.bind(r,6160)),Promise.resolve().then(r.bind(r,8878))},5830:(e,t,r)=>{"use strict";r.d(t,{_$:()=>m,$9:()=>u,x2:()=>h,Z$:()=>x,Lq:()=>g,x3:()=>d});var a=r(5453),s=r(6786);let i={id:"cart-1",items:[],itemCount:0,subtotal:0,tax:0,shipping:0,total:0,currency:"JOD",updatedAt:new Date().toISOString()},o=e=>{let t=e.reduce((e,t)=>e+t.quantity,0),r=e.reduce((e,t)=>e+t.price*t.quantity,0),a=.16*r,s=r>50?0:5,i=r+a+s;return{itemCount:t,subtotal:Number(r.toFixed(2)),tax:Number(a.toFixed(2)),shipping:Number(s.toFixed(2)),total:Number(i.toFixed(2))}},c=async e=>({title:`Product ${e}`,titleAr:`منتج ${e}`,price:25.99,imageUrl:"/product-holder.webp"});class l{async getCart(){return await new Promise(e=>setTimeout(e,100)),{...i}}async addToCart(e){await new Promise(e=>setTimeout(e,200));let t=await c(e.productId),r=i.items.findIndex(t=>t.productId===e.productId&&t.variantId===e.variantId);if(r>=0)i.items[r].quantity+=e.quantity;else{let r={id:`item-${Date.now()}`,productId:e.productId,variantId:e.variantId,quantity:e.quantity,price:t.price||0,image:t.imageUrl||"/product-holder.webp",title:t.title||`Product ${e.productId}`,titleAr:t.titleAr};i.items.push(r)}let a=o(i.items);return{...i={...i,...a,updatedAt:new Date().toISOString()}}}async updateCartItem(e){await new Promise(e=>setTimeout(e,150));let t=i.items.findIndex(t=>t.id===e.itemId);if(-1===t)throw Error("Cart item not found");e.quantity<=0?i.items.splice(t,1):i.items[t].quantity=e.quantity;let r=o(i.items);return{...i={...i,...r,updatedAt:new Date().toISOString()}}}async removeCartItem(e){await new Promise(e=>setTimeout(e,100)),i.items=i.items.filter(t=>t.id!==e);let t=o(i.items);return{...i={...i,...t,updatedAt:new Date().toISOString()}}}async clearCart(){return await new Promise(e=>setTimeout(e,100)),{...i={...i,items:[],itemCount:0,subtotal:0,tax:0,shipping:0,total:0,updatedAt:new Date().toISOString()}}}}let n=new l,d=(0,a.v)()((0,s.Zr)((e,t)=>({cart:null,isLoading:!1,isDrawerOpen:!1,error:null,addToCart:async t=>{e({isLoading:!0,error:null});try{let r=await n.addToCart(t);e({cart:r,isLoading:!1,isDrawerOpen:!0})}catch(t){e({error:{code:"ADD_TO_CART_ERROR",message:t instanceof Error?t.message:"Failed to add item to cart"},isLoading:!1})}},updateItem:async t=>{e({isLoading:!0,error:null});try{let r=await n.updateCartItem(t);e({cart:r,isLoading:!1})}catch(t){e({error:{code:"UPDATE_ITEM_ERROR",message:t instanceof Error?t.message:"Failed to update item"},isLoading:!1})}},removeItem:async t=>{e({isLoading:!0,error:null});try{let r=await n.removeCartItem(t);e({cart:r,isLoading:!1})}catch(t){e({error:{code:"REMOVE_ITEM_ERROR",message:t instanceof Error?t.message:"Failed to remove item"},isLoading:!1})}},clearCart:async()=>{e({isLoading:!0,error:null});try{let t=await n.clearCart();e({cart:t,isLoading:!1})}catch(t){e({error:{code:"CLEAR_CART_ERROR",message:t instanceof Error?t.message:"Failed to clear cart"},isLoading:!1})}},loadCart:async()=>{e({isLoading:!0,error:null});try{let t=await n.getCart();e({cart:t,isLoading:!1})}catch(t){e({error:{code:"LOAD_CART_ERROR",message:t instanceof Error?t.message:"Failed to load cart"},isLoading:!1})}},openDrawer:()=>e({isDrawerOpen:!0}),closeDrawer:()=>e({isDrawerOpen:!1}),toggleDrawer:()=>e(e=>({isDrawerOpen:!e.isDrawerOpen})),clearError:()=>e({error:null})}),{name:"cart-storage",partialize:e=>({cart:e.cart})})),m=()=>d(e=>e.cart),u=()=>d(e=>{var t;return(null==(t=e.cart)?void 0:t.itemCount)||0}),x=()=>d(e=>e.isDrawerOpen),h=()=>d(e=>e.closeDrawer),g=()=>d(e=>e.toggleDrawer)},8878:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(5155),s=r(2115),i=r(7652),o=r(2550),c=r(5830),l=r(6766),n=r(6874),d=r.n(n);let m=()=>{let e=(0,i.c3)(),t=(0,o.Ym)(),{cart:r,clearCart:n}=(0,c._$)(),m="ar"===t,[u,x]=(0,s.useState)({email:"",firstName:"",lastName:"",phone:"",address:"",city:"",postalCode:"",country:"Jordan"}),[h,g]=(0,s.useState)(!1),p=e=>m?`${e.toFixed(2)} د.أ`:`JOD ${e.toFixed(2)}`,f=e=>{let{name:t,value:r}=e.target;x(e=>({...e,[t]:r}))},b=async r=>{r.preventDefault(),g(!0);try{await new Promise(e=>setTimeout(e,2e3)),await n(),alert(e("checkout.success")),window.location.href=`/${t}/checkout/success`}catch(t){alert(e("checkout.error"))}finally{g(!1)}};return r&&0!==r.items.length?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",dir:m?"rtl":"ltr",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:`text-3xl font-bold text-gray-900 ${m?"font-cairo text-right":""}`,children:e("checkout.title")}),(0,a.jsx)("p",{className:`text-gray-600 mt-2 ${m?"font-cairo text-right":""}`,children:e("checkout.subtitle")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:`text-xl font-semibold text-gray-900 mb-6 ${m?"font-cairo":""}`,children:e("checkout.contactInfo")}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.email")}),(0,a.jsx)("input",{type:"email",name:"email",value:u.email,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",placeholder:e("checkout.emailPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.phone")}),(0,a.jsx)("input",{type:"tel",name:"phone",value:u.phone,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",placeholder:e("checkout.phonePlaceholder")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.firstName")}),(0,a.jsx)("input",{type:"text",name:"firstName",value:u.firstName,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",placeholder:e("checkout.firstNamePlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.lastName")}),(0,a.jsx)("input",{type:"text",name:"lastName",value:u.lastName,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",placeholder:e("checkout.lastNamePlaceholder")})]})]}),(0,a.jsxs)("div",{className:"pt-6 border-t border-gray-200",children:[(0,a.jsx)("h3",{className:`text-lg font-semibold text-gray-900 mb-4 ${m?"font-cairo":""}`,children:e("checkout.shippingAddress")}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.address")}),(0,a.jsx)("input",{type:"text",name:"address",value:u.address,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",placeholder:e("checkout.addressPlaceholder")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.city")}),(0,a.jsx)("input",{type:"text",name:"city",value:u.city,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",placeholder:e("checkout.cityPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.postalCode")}),(0,a.jsx)("input",{type:"text",name:"postalCode",value:u.postalCode,onChange:f,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",placeholder:e("checkout.postalCodePlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:`block text-sm font-medium text-gray-700 mb-2 ${m?"font-cairo text-right":""}`,children:e("checkout.country")}),(0,a.jsxs)("select",{name:"country",value:u.country,onChange:f,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black/20 focus:border-black",children:[(0,a.jsx)("option",{value:"Jordan",children:"Jordan"}),(0,a.jsx)("option",{value:"UAE",children:"UAE"}),(0,a.jsx)("option",{value:"Saudi Arabia",children:"Saudi Arabia"}),(0,a.jsx)("option",{value:"Lebanon",children:"Lebanon"})]})]})]})]})]}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsx)("button",{type:"submit",disabled:h,className:`w-full bg-black text-white py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${m?"font-cairo":""}`,children:h?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e("checkout.processing")]}):e("checkout.placeOrder")})})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[(0,a.jsx)("h2",{className:`text-xl font-semibold text-gray-900 mb-6 ${m?"font-cairo":""}`,children:e("checkout.orderSummary")}),(0,a.jsx)("div",{className:"space-y-4 mb-6",children:r.items.map(t=>(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"relative w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(0,a.jsx)(l.default,{src:t.product.image,alt:m?t.product.titleAr:t.product.title,fill:!0,className:"object-cover",sizes:"48px"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:`font-medium text-gray-900 text-sm ${m?"font-cairo text-right":""}`,children:m?t.product.titleAr:t.product.title}),(0,a.jsxs)("div",{className:`flex justify-between items-center mt-1 ${m?"flex-row-reverse":""}`,children:[(0,a.jsxs)("span",{className:`text-sm text-gray-500 ${m?"font-cairo":""}`,children:[e("checkout.qty"),": ",t.quantity]}),(0,a.jsx)("span",{className:`font-semibold text-gray-900 text-sm ${m?"font-cairo":""}`,children:p(t.totalPrice)})]})]})]},t.id))}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[(0,a.jsxs)("div",{className:`flex justify-between text-sm ${m?"flex-row-reverse":""}`,children:[(0,a.jsx)("span",{className:`text-gray-600 ${m?"font-cairo":""}`,children:e("cart.subtotal")}),(0,a.jsx)("span",{className:`font-medium ${m?"font-cairo":""}`,children:p(r.subtotal)})]}),(0,a.jsxs)("div",{className:`flex justify-between text-sm ${m?"flex-row-reverse":""}`,children:[(0,a.jsx)("span",{className:`text-gray-600 ${m?"font-cairo":""}`,children:e("cart.shipping")}),(0,a.jsx)("span",{className:`font-medium ${m?"font-cairo":""}`,children:r.shipping>0?p(r.shipping):e("checkout.freeShipping")})]}),r.tax>0&&(0,a.jsxs)("div",{className:`flex justify-between text-sm ${m?"flex-row-reverse":""}`,children:[(0,a.jsx)("span",{className:`text-gray-600 ${m?"font-cairo":""}`,children:e("cart.tax")}),(0,a.jsx)("span",{className:`font-medium ${m?"font-cairo":""}`,children:p(r.tax)})]}),(0,a.jsx)("hr",{className:"my-3"}),(0,a.jsxs)("div",{className:`flex justify-between text-lg font-semibold ${m?"flex-row-reverse":""}`,children:[(0,a.jsx)("span",{className:`text-gray-900 ${m?"font-cairo":""}`,children:e("cart.total")}),(0,a.jsx)("span",{className:`text-gray-900 ${m?"font-cairo":""}`,children:p(r.total)})]})]}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,a.jsx)("span",{className:m?"font-cairo":"",children:e("checkout.secureCheckout")})]})})]})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto px-4 text-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})})}),(0,a.jsx)("h1",{className:`text-xl font-semibold text-gray-900 mb-2 ${m?"font-cairo":""}`,children:e("cart.empty")}),(0,a.jsx)("p",{className:`text-gray-600 mb-6 ${m?"font-cairo":""}`,children:e("checkout.emptyDescription")}),(0,a.jsx)(d(),{href:`/${t}/shop`,children:(0,a.jsx)("button",{className:`bg-black text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-colors ${m?"font-cairo":""}`,children:e("cart.continueShopping")})})]})})})}}},e=>{e.O(0,[119,874,766,751,441,964,977],()=>e(e.s=1451)),_N_E=e.O()}]);
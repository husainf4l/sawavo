(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{1823:(e,s,t)=>{Promise.resolve().then(t.bind(t,1886))},1886:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(5155),a=t(2115),n=t(2550),o=t(6874),i=t.n(o),l=t(8367),c=t(4260),d=t(5695);function h(e){let{children:s}=e,[t,o]=(0,a.useState)(!1),i=(0,n.Ym)(),c="ar"===i,{user:h,logout:x}=(0,l.A)(),u=(0,d.useRouter)(),g=()=>{x(),u.push(`/${i}`)},f=[{name:c?"لوحة التحكم":"Dashboard",href:`/${i}/dashboard`,icon:(0,r.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]})},{name:c?"تحليل البشرة":"Skin Analysis",href:`/${i}/dashboard/analysis`,icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:c?"المنتجات":"Products",href:`/${i}/dashboard/products`,icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})},{name:c?"الطلبات":"Orders",href:`/${i}/dashboard/orders`,icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})},{name:c?"الملف الشخصي":"Profile",href:`/${i}/dashboard/profile`,icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}];return(0,r.jsxs)("div",{className:`min-h-screen bg-gray-50 ${c?"rtl":"ltr"}`,dir:c?"rtl":"ltr",children:[t&&(0,r.jsxs)("div",{className:"fixed inset-0 flex z-40 lg:hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>o(!1)}),(0,r.jsxs)("div",{className:`relative flex-1 flex flex-col max-w-xs w-full bg-white ${c?"mr-auto":"ml-auto"}`,children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,r.jsxs)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>o(!1),children:[(0,r.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,r.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})}),(0,r.jsx)(m,{navigation:f,isRTL:c,user:h,onLogout:g})]})]}),(0,r.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:(0,r.jsx)(m,{navigation:f,isRTL:c,user:h,onLogout:g})}),(0,r.jsxs)("div",{className:`lg:pl-64 ${c?"lg:pr-64 lg:pl-0":""}`,children:[(0,r.jsx)("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-50",children:(0,r.jsxs)("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>o(!0),children:[(0,r.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})}),(0,r.jsx)("main",{className:"flex-1",children:s})]})]})}function m(e){let{navigation:s,isRTL:t,user:a,onLogout:n}=e;return(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 bg-white border-r border-gray-200",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,r.jsx)("span",{className:`ml-2 text-xl font-bold text-gray-900 ${t?"mr-2 ml-0 font-cairo":""}`,children:"Skinior"})]}),(0,r.jsx)("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:s.map(e=>(0,r.jsxs)(i(),{href:e.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 ${t?"font-cairo":""}`,children:[(0,r.jsx)("span",{className:`mr-3 flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500 ${t?"ml-3 mr-0":""}`,children:e.icon}),e.name]},e.name))})]}),(0,r.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:`ml-3 ${t?"mr-3 ml-0":""}`,children:[(0,r.jsx)("p",{className:`text-sm font-medium text-gray-700 ${t?"font-cairo":""}`,children:a?(0,c.Nc)(a):"User"}),(0,r.jsx)("button",{onClick:n,className:`text-xs text-gray-500 hover:text-gray-700 ${t?"font-cairo":""}`,children:t?"تسجيل الخروج":"Sign out"})]})]})})]})}function x(){let e="ar"===(0,n.Ym)();return(0,r.jsx)(h,{children:(0,r.jsx)("div",{className:`p-6 ${e?"font-cairo text-right":""}`,children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:`text-3xl font-bold text-gray-900 mb-2 ${e?"font-cairo":""}`,children:e?"مرحباً بك في لوحة التحكم":"Welcome to Dashboard"}),(0,r.jsx)("p",{className:`text-gray-600 ${e?"font-cairo":""}`,children:e?"إدارة حسابك وتتبع رحلة العناية ببشرتك":"Manage your account and track your skincare journey"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsxs)("div",{className:`ml-4 ${e?"mr-4 ml-0":""}`,children:[(0,r.jsx)("p",{className:`text-sm font-medium text-gray-600 ${e?"font-cairo":""}`,children:e?"تحليلات البشرة":"Skin Analyses"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:`ml-4 ${e?"mr-4 ml-0":""}`,children:[(0,r.jsx)("p",{className:`text-sm font-medium text-gray-600 ${e?"font-cairo":""}`,children:e?"المنتجات المفضلة":"Favorite Products"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,r.jsxs)("div",{className:`ml-4 ${e?"mr-4 ml-0":""}`,children:[(0,r.jsx)("p",{className:`text-sm font-medium text-gray-600 ${e?"font-cairo":""}`,children:e?"الطلبات":"Orders"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,r.jsxs)("div",{className:`ml-4 ${e?"mr-4 ml-0":""}`,children:[(0,r.jsx)("p",{className:`text-sm font-medium text-gray-600 ${e?"font-cairo":""}`,children:e?"النقاط":"Points"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsx)("h3",{className:`text-lg font-medium text-gray-900 mb-2 ${e?"font-cairo":""}`,children:e?"مرحباً بك في Skinior":"Welcome to Skinior"}),(0,r.jsx)("p",{className:`text-gray-500 max-w-md mx-auto ${e?"font-cairo":""}`,children:e?"ابدأي رحلة العناية ببشرتك. قومي بإجراء تحليل للبشرة أو تصفحي منتجاتنا المميزة":"Start your skincare journey. Take a skin analysis or browse our featured products"}),(0,r.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 justify-center",children:[(0,r.jsx)("button",{className:`bg-gray-900 hover:bg-gray-800 text-white px-6 py-2 rounded-lg font-medium transition-colors ${e?"font-cairo":""}`,children:e?"تحليل البشرة":"Skin Analysis"}),(0,r.jsx)("button",{className:`border border-gray-300 hover:bg-gray-50 text-gray-700 px-6 py-2 rounded-lg font-medium transition-colors ${e?"font-cairo":""}`,children:e?"تصفح المنتجات":"Browse Products"})]})]})]})})})}},4260:(e,s,t)=>{"use strict";function r(e){return e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName?e.firstName:e.lastName?e.lastName:e.email.split("@")[0]}function a(e){return r(e)}t.d(s,{Nc:()=>a,Yg:()=>r})},8367:(e,s,t)=>{"use strict";t.d(s,{AuthProvider:()=>l,A:()=>c});var r=t(5155),a=t(2115);class n{async handleResponse(e){if(!e.ok){let s;try{s=await e.json()}catch{s={message:"An error occurred"}}throw Error(s.message||"Authentication failed")}let s=await e.json();return s.data||s}async login(e){let s=await fetch(`${this.baseUrl}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await this.handleResponse(s);return t.accessToken&&localStorage.setItem("access_token",t.accessToken),t}async register(e){let s=await fetch(`${this.baseUrl}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await this.handleResponse(s);return t.accessToken&&localStorage.setItem("access_token",t.accessToken),t}async getProfile(){let e=this.getToken();if(!e)throw Error("No authentication token found");let s=await fetch(`${this.baseUrl}/auth/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return s.ok||await s.text(),(await this.handleResponse(s)).user}getToken(){return localStorage.getItem("access_token")}logout(){localStorage.removeItem("access_token")}isAuthenticated(){return!!this.getToken()}constructor(){this.baseUrl="http://localhost:4008/api"}}let o=new n,i=(0,a.createContext)(void 0);function l(e){let{children:s}=e,[t,n]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{if(o.isAuthenticated()){let e=await o.getProfile();n(e)}}catch(e){o.logout()}finally{c(!1)}})()},[]);let d=async(e,s)=>{try{let t=await o.login({email:e,password:s});n(t.user)}catch(e){throw e}},h=async(e,s,t,r,a)=>{try{let i=await o.register({firstName:e,lastName:s,email:t,password:r,phone:a});n(i.user)}catch(e){throw e}};return(0,r.jsx)(i.Provider,{value:{user:t,loading:l,login:d,register:h,logout:()=>{o.logout(),n(null)},isAuthenticated:!!t},children:s})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[119,874,441,964,977],()=>e(e.s=1823)),_N_E=e.O()}]);
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/al-husseinabdullah/Desktop/skinior/skiniorai/src/services/productsService.ts"],"sourcesContent":["// Types based on actual API response structure\nexport interface ProductImage {\n  id: string;\n  productId: string;\n  url: string;\n  altText: string;\n  isMain: boolean;\n  isHover: boolean;\n  sortOrder: number;\n  createdAt: string;\n}\n\nexport interface Category {\n  id: string;\n  name: string;\n  nameAr: string;\n  slug: string;\n  description: string;\n  parentId?: string | null;\n  createdAt: string;\n}\n\nexport interface Brand {\n  id: string;\n  name: string;\n  nameAr?: string;\n  slug: string;\n  description?: string;\n  logo?: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface Review {\n  id: string;\n  productId: string;\n  userId?: string | null;\n  customerName: string;\n  email?: string | null;\n  rating: number;\n  title: string;\n  comment: string;\n  isVerified: boolean;\n  isPublished: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface ReviewStats {\n  averageRating: number;\n  totalReviews: number;\n}\n\nexport interface Product {\n  id: string;\n  title: string;\n  titleAr: string;\n  slug: string;\n  descriptionEn: string;\n  descriptionAr: string;\n  price: number;\n  compareAtPrice?: number | null;\n  currency: string;\n  sku: string;\n  isActive: boolean;\n  isFeatured: boolean;\n  isNew: boolean;\n  activeIngredients: string;\n  skinType: string;\n  concerns: string[];\n  usage: string;\n  features: string[];\n  ingredients: string;\n  howToUse: string;\n  featuresAr: string[];\n  ingredientsAr: string;\n  howToUseAr: string;\n  metaTitle?: string | null;\n  metaDescription?: string | null;\n  stockQuantity: number;\n  viewCount: number;\n  salesCount: number;\n  categoryId: string;\n  brandId?: string | null;\n  createdAt: string;\n  updatedAt: string;\n  images: ProductImage[];\n  category?: Category;\n  brand?: Brand | null;\n  reviews?: Review[];\n  reviewStats?: ReviewStats;\n  isInStock: boolean;\n}\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4007/api';\n\nexport const productsService = {\n  async getFeaturedProducts(): Promise<Product[]> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/products/featured`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data: Product[] = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching featured products:', error);\n      throw error;\n    }\n  },\n\n  async getProducts(): Promise<Product[]> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/products`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data: Product[] = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      throw error;\n    }\n  },\n\n  async getProductById(id: string | number): Promise<Product | null> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/products/${id}`);\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          return null;\n        }\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data: Product = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching product by ID:', error);\n      throw error;\n    }\n  },\n};\n"],"names":[],"mappings":"AAAA,+CAA+C;;;;AA+F/C,MAAM,eAAe,iEAAmC;AAEjD,MAAM,kBAAkB;IAC7B,MAAM;QACJ,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,kBAAkB,CAAC;YAEhE,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC1D;YAEA,MAAM,OAAkB,MAAM,SAAS,IAAI;YAC3C,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qCAAqC;YACnD,MAAM;QACR;IACF;IAEA,MAAM;QACJ,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,SAAS,CAAC;YAEvD,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC1D;YAEA,MAAM,OAAkB,MAAM,SAAS,IAAI;YAC3C,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACR;IACF;IAEA,MAAM,gBAAe,EAAmB;QACtC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,UAAU,EAAE,IAAI;YAE7D,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC3B,OAAO;gBACT;gBACA,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC1D;YAEA,MAAM,OAAgB,MAAM,SAAS,IAAI;YACzC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,MAAM;QACR;IACF;AACF","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/al-husseinabdullah/Desktop/skinior/skiniorai/src/components/cart/AddToCartButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCartStore } from \"../../lib/store/cart-store\";\nimport { AddToCartRequest } from \"../../types/cart\";\nimport { useTranslations } from \"next-intl\";\n\ninterface AddToCartButtonProps {\n  productId: string;\n  variantId?: string;\n  quantity?: number;\n  disabled?: boolean;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nexport default function AddToCartButton({\n  productId,\n  variantId,\n  quantity = 1,\n  disabled = false,\n  className = \"\",\n  children,\n}: AddToCartButtonProps) {\n  const t = useTranslations();\n  const { addToCart, isLoading } = useCartStore();\n\n  const handleClick = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled || isLoading) return;\n\n    const request: AddToCartRequest = {\n      productId,\n      variantId,\n      quantity,\n    };\n\n    try {\n      await addToCart(request);\n    } catch (error) {\n      console.error(\"Failed to add to cart:\", error);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleClick}\n      disabled={disabled || isLoading}\n      className={`\n        w-full px-3 py-2 text-sm font-medium rounded-lg \n        transition-all duration-200 transform active:scale-95\n        focus:outline-none focus:ring-2 focus:ring-offset-2\n        ${\n          disabled || isLoading\n            ? \"bg-gray-300 text-gray-500 cursor-not-allowed focus:ring-gray-300\"\n            : \"bg-black text-white hover:bg-gray-800 focus:ring-gray-900\"\n        }\n        ${className}\n      `}\n      type=\"button\"\n    >\n      {isLoading ? (\n        <span className=\"flex items-center justify-center\">\n          <svg\n            className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            ></circle>\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            ></path>\n          </svg>\n          {t(\"products.adding\")}\n        </span>\n      ) : (\n        children || t(\"products.addToCart\")\n      )}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;;AAee,SAAS,gBAAgB,EACtC,SAAS,EACT,SAAS,EACT,WAAW,CAAC,EACZ,WAAW,KAAK,EAChB,YAAY,EAAE,EACd,QAAQ,EACa;IACrB,MAAM,IAAI,CAAA,GAAA,sMAAA,CAAA,kBAAe,AAAD;IACxB,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,oIAAA,CAAA,eAAY,AAAD;IAE5C,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,IAAI,YAAY,WAAW;QAE3B,MAAM,UAA4B;YAChC;YACA;YACA;QACF;QAEA,IAAI;YACF,MAAM,UAAU;QAClB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;IACF;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,UAAU,YAAY;QACtB,WAAW,CAAC;;;;QAIV,EACE,YAAY,YACR,qEACA,4DACL;QACD,EAAE,UAAU;MACd,CAAC;QACD,MAAK;kBAEJ,0BACC,8OAAC;YAAK,WAAU;;8BACd,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,SAAQ;;sCAER,8OAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;gBAGL,EAAE;;;;;;mBAGL,YAAY,EAAE;;;;;;AAItB","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///Users/al-husseinabdullah/Desktop/skinior/skiniorai/src/components/ProductCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTranslations, useLocale } from \"next-intl\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/navigation\";\nimport { useState, memo, useCallback } from \"react\";\nimport { Product } from \"@/services/productsService\";\nimport AddToCartButton from \"./cart/AddToCartButton\";\n\ninterface ProductCardProps {\n  product: Product;\n}\n\nconst ProductCard = memo(({ product }: ProductCardProps) => {\n  const t = useTranslations();\n  const locale = useLocale();\n  const router = useRouter();\n  const [isWishlisted, setIsWishlisted] = useState(false);\n  const [isImageLoaded, setIsImageLoaded] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n\n  const isRTL = locale === \"ar\";\n\n  // Get localized content\n  const name = isRTL ? product.titleAr : product.title;\n\n  // Get main and hover images\n  const mainImage =\n    product.images.find((img) => img.isMain)?.url || \"/product-holder.webp\";\n  const hoverImage =\n    product.images.find((img) => img.isHover)?.url || mainImage;\n\n  // Calculate review stats\n  const rating = product.reviewStats?.averageRating || 0;\n  const reviews = product.reviewStats?.totalReviews || 0;\n\n  // Check if product is on sale\n  const onSale = !!product.compareAtPrice;\n\n  const handleCardClick = useCallback(() => {\n    router.push(`/${locale}/products/${product.id}`);\n  }, [router, locale, product.id]);\n\n  const handleAddToCartSuccess = useCallback(() => {\n    // Prevent navigation to product page when add to cart succeeds\n    console.log(`Added ${product.title} to cart successfully`);\n  }, [product.title]);\n\n  const handleAddToCartError = useCallback((error: Error) => {\n    console.error(\"Failed to add to cart:\", error);\n  }, []);\n\n  const handleWishlistToggle = useCallback(\n    (e: React.MouseEvent) => {\n      e.stopPropagation();\n      setIsWishlisted(!isWishlisted);\n    },\n    [isWishlisted]\n  );\n\n  const formatPrice = useCallback(\n    (price: number) => {\n      return isRTL ? `${price.toFixed(2)} د.أ` : `JOD ${price.toFixed(2)}`;\n    },\n    [isRTL]\n  );\n\n  const getDiscountPercentage = useCallback(() => {\n    if (product.compareAtPrice && product.compareAtPrice > product.price) {\n      return Math.round(\n        ((product.compareAtPrice - product.price) / product.compareAtPrice) *\n          100\n      );\n    }\n    return 0;\n  }, [product.compareAtPrice, product.price]);\n\n  return (\n    <div\n      className={`group relative bg-white/70 backdrop-blur-2xl border border-white/20 rounded-2xl overflow-hidden transition-all duration-700 ease-out hover:bg-white hover:shadow-xl hover:shadow-black/5 hover:-translate-y-2 hover:scale-[1.02] cursor-pointer ${\n        isRTL ? \"rtl\" : \"ltr\"\n      }`}\n      onClick={handleCardClick}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      role=\"button\"\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === \"Enter\" || e.key === \" \") {\n          e.preventDefault();\n          handleCardClick();\n        }\n      }}\n      aria-label={`${t(\"products.productDetails\")} ${name}`}\n    >\n      {/* Optimized Image Container */}\n      <div className=\"relative aspect-square overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100\">\n        {/* Main Product Image */}\n        <Image\n          src={isHovered && hoverImage ? hoverImage : mainImage}\n          alt={name}\n          fill\n          className={`object-cover transition-all duration-700 ease-out group-hover:scale-105 ${\n            isImageLoaded ? \"opacity-100\" : \"opacity-0\"\n          } ${hoverImage && isHovered ? \"opacity-0\" : \"opacity-100\"}`}\n          sizes=\"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw\"\n          quality={85}\n          priority={false}\n          placeholder=\"blur\"\n          blurDataURL=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyOpCsIoqKKKkKggUVoooOOhRRQII//2Q==\"\n          onLoad={() => setIsImageLoaded(true)}\n        />\n\n        {/* Hover Image */}\n        {hoverImage && (\n          <Image\n            src={hoverImage}\n            alt={`${name} hover`}\n            fill\n            className={`object-cover transition-all duration-700 ease-out group-hover:scale-105 ${\n              isHovered ? \"opacity-100\" : \"opacity-0\"\n            }`}\n            sizes=\"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw\"\n            quality={85}\n            placeholder=\"blur\"\n            blurDataURL=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyOpCsIoqKKKkKggUVoooOOhRRQII//2Q==\"\n          />\n        )}\n\n        {!isImageLoaded && (\n          <div className=\"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse\" />\n        )}\n\n        {/* Compact Badge */}\n        {(product.isNew || onSale || getDiscountPercentage() > 0) && (\n          <div className={`absolute top-2 ${isRTL ? \"right-2\" : \"left-2\"}`}>\n            {product.isNew && (\n              <div className=\"px-1.5 py-0.5 bg-black/90 backdrop-blur-xl text-white text-xs font-medium rounded-md\">\n                {t(\"products.new\")}\n              </div>\n            )}\n            {onSale && !product.isNew && (\n              <div className=\"px-1.5 py-0.5 bg-red-600/90 backdrop-blur-xl text-white text-xs font-medium rounded-md\">\n                {getDiscountPercentage() > 0\n                  ? `${getDiscountPercentage()}%`\n                  : t(\"products.sale\")}\n              </div>\n            )}\n          </div>\n        )}\n\n        {!product.isInStock && (\n          <div className=\"absolute inset-0 bg-white/95 backdrop-blur-sm flex items-center justify-center\">\n            <div className=\"px-3 py-1 bg-gray-900/90 backdrop-blur-xl text-white text-xs font-medium rounded-md\">\n              {t(\"products.outOfStock\")}\n            </div>\n          </div>\n        )}\n\n        {/* Compact Wishlist */}\n        <div\n          className={`absolute top-2 ${\n            isRTL ? \"left-2\" : \"right-2\"\n          } opacity-0 group-hover:opacity-100 transition-all duration-300`}\n        >\n          <button\n            className={`w-7 h-7 bg-white/90 backdrop-blur-xl hover:bg-white rounded-full shadow-md transition-all duration-300 flex items-center justify-center ${\n              isWishlisted ? \"text-red-500\" : \"text-gray-400 hover:text-red-500\"\n            }`}\n            onClick={handleWishlistToggle}\n            title={\n              isWishlisted\n                ? t(\"products.removeFromWishlist\")\n                : t(\"products.addToWishlist\")\n            }\n            aria-label={\n              isWishlisted\n                ? t(\"products.removeFromWishlist\")\n                : t(\"products.addToWishlist\")\n            }\n          >\n            <svg\n              className=\"w-3.5 h-3.5\"\n              fill={isWishlisted ? \"currentColor\" : \"none\"}\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              strokeWidth={1.5}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n              />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      {/* Ultra Compact Content */}\n      <div className=\"p-3 space-y-2\">\n        <h3\n          className={`text-sm font-medium text-gray-900 line-clamp-2 leading-tight group-hover:text-gray-700 transition-colors ${\n            isRTL ? \"text-right\" : \"text-left\"\n          }`}\n        >\n          {name}\n        </h3>\n\n        {/* Ultra Compact Rating */}\n        <div\n          className={`flex items-center gap-1 ${\n            isRTL ? \"flex-row-reverse\" : \"\"\n          }`}\n        >\n          <div\n            className={`flex items-center gap-0.5 ${\n              isRTL ? \"flex-row-reverse\" : \"\"\n            }`}\n          >\n            {[...Array(5)].map((_, i) => (\n              <div\n                key={i}\n                className={`w-1 h-1 rounded-full ${\n                  i < Math.floor(rating) ? \"bg-yellow-400\" : \"bg-gray-200\"\n                }`}\n              />\n            ))}\n          </div>\n          <span className=\"text-xs text-gray-500\">({reviews})</span>\n        </div>\n\n        {/* Ultra Compact Pricing & Action */}\n        <div className=\"space-y-2\">\n          <div\n            className={`flex items-baseline gap-2 ${\n              isRTL ? \"flex-row-reverse justify-start\" : \"justify-start\"\n            }`}\n          >\n            <span\n              className={`text-base font-semibold text-gray-900 price ${\n                isRTL ? \"font-cairo\" : \"\"\n              }`}\n            >\n              {formatPrice(product.price)}\n            </span>\n            {product.compareAtPrice && (\n              <span\n                className={`text-xs text-gray-600 line-through price ${\n                  isRTL ? \"font-cairo\" : \"\"\n                }`}\n              >\n                {formatPrice(product.compareAtPrice)}\n              </span>\n            )}\n          </div>\n\n          {/* Add to Cart Button */}\n          <AddToCartButton\n            productId={product.id}\n            disabled={!product.isInStock}\n            className=\"w-full\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n});\n\nProductCard.displayName = \"ProductCard\";\n\nexport default ProductCard;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"sources":["file:///Users/al-husseinabdullah/Desktop/skinior/skiniorai/src/components/ShopProductList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTranslations } from \"next-intl\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { productsService, type Product } from \"@/services/productsService\";\nimport ProductCard from \"./ProductCard\";\n\nconst PAGE_SIZE = 12;\n\nexport default function ShopProductList({ locale }: { locale: string }) {\n  const t = useTranslations();\n  const isRTL = locale === \"ar\";\n\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Filters / UI state\n  const [query, setQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState<string | \"all\">(\n    \"all\"\n  );\n  const [sort, setSort] = useState<\n    \"relevance\" | \"price_asc\" | \"price_desc\" | \"newest\"\n  >(\"relevance\");\n  const [page, setPage] = useState(1);\n\n  const debounceRef = useRef<number | null>(null);\n\n  useEffect(() => {\n    let mounted = true;\n    setLoading(true);\n    setError(null);\n\n    productsService\n      .getProducts()\n      .then((data) => {\n        if (!mounted) return;\n        setProducts(data || []);\n      })\n      .catch((err) => {\n        console.error(err);\n        if (mounted)\n          setError(t(\"shop.loadingError\") || \"Failed to load products\");\n      })\n      .finally(() => {\n        if (mounted) setLoading(false);\n      });\n\n    return () => {\n      mounted = false;\n      if (debounceRef.current) window.clearTimeout(debounceRef.current);\n    };\n  }, [t]);\n\n  // Derive categories from products\n  const categories = useMemo(() => {\n    const map = new Map<string, string>();\n    products.forEach((p) => {\n      const name = p.category?.name || p.category?.slug || \"uncategorized\";\n      const id = p.category?.id || name;\n      if (!map.has(String(id))) map.set(String(id), String(name));\n    });\n    return [\n      { id: \"all\", name: t(\"shop.allCategories\") ?? \"All\" },\n      ...Array.from(map.entries()).map(([id, name]) => ({ id, name })),\n    ];\n  }, [products, t]);\n\n  // Debounced query setter for better UX\n  const setQueryDebounced = useCallback((val: string) => {\n    if (debounceRef.current) window.clearTimeout(debounceRef.current);\n    debounceRef.current = window.setTimeout(() => {\n      setQuery(val);\n      setPage(1);\n    }, 300);\n  }, []);\n\n  // Filtering + sorting\n  const filtered = useMemo(() => {\n    let list = products.slice();\n\n    if (query.trim()) {\n      const q = query.trim().toLowerCase();\n      list = list.filter((p) => {\n        return (\n          p.title?.toLowerCase().includes(q) ||\n          p.titleAr?.toLowerCase().includes(q) ||\n          p.sku?.toLowerCase().includes(q) ||\n          p.activeIngredients?.toLowerCase().includes(q) ||\n          p.descriptionEn?.toLowerCase().includes(q) ||\n          p.descriptionAr?.toLowerCase().includes(q)\n        );\n      });\n    }\n\n    if (selectedCategory && selectedCategory !== \"all\") {\n      list = list.filter(\n        (p) =>\n          String(p.categoryId) === String(selectedCategory) ||\n          String(p.category?.id) === String(selectedCategory)\n      );\n    }\n\n    switch (sort) {\n      case \"price_asc\":\n        list.sort((a, b) => a.price - b.price);\n        break;\n      case \"price_desc\":\n        list.sort((a, b) => b.price - a.price);\n        break;\n      case \"newest\":\n        list.sort(\n          (a, b) =>\n            new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n        );\n        break;\n      case \"relevance\":\n      default:\n        // keep original order (server relevance)\n        break;\n    }\n\n    return list;\n  }, [products, query, selectedCategory, sort]);\n\n  const totalPages = Math.max(1, Math.ceil(filtered.length / PAGE_SIZE));\n\n  // Clamp page\n  useEffect(() => {\n    if (page > totalPages) setPage(totalPages);\n  }, [page, totalPages]);\n\n  const visibleProducts = useMemo(() => {\n    const start = (page - 1) * PAGE_SIZE;\n    return filtered.slice(start, start + PAGE_SIZE);\n  }, [filtered, page]);\n\n  if (loading) {\n    return (\n      <div className=\"mt-8\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div className=\"w-2/3\">\n            <div className=\"h-10 bg-gray-200 rounded-md animate-pulse\" />\n          </div>\n          <div className=\"w-1/3 flex gap-3 justify-end\">\n            <div className=\"h-10 w-28 bg-gray-200 rounded-md animate-pulse\" />\n            <div className=\"h-10 w-28 bg-gray-200 rounded-md animate-pulse\" />\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n          {Array.from({ length: 8 }).map((_, i) => (\n            <div\n              key={i}\n              className=\"bg-white rounded-2xl shadow-sm p-4 animate-pulse h-64\"\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return <div className=\"mt-8 text-center text-red-500\">{error}</div>;\n  }\n\n  return (\n    <section\n      className={`${isRTL ? \"rtl font-cairo\" : \"ltr\"}`}\n      aria-labelledby=\"shop-heading\"\n    >\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\">\n        {/* Search */}\n        <div className=\"flex-1\">\n          <label htmlFor=\"search\" className=\"sr-only\">\n            {t(\"shop.search\") || \"Search\"}\n          </label>\n          <input\n            id=\"search\"\n            type=\"search\"\n            placeholder={\n              t(\"shop.searchPlaceholder\") ||\n              \"Search products, ingredients or SKU...\"\n            }\n            onChange={(e) => setQueryDebounced(e.target.value)}\n            className=\"w-full border border-gray-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-black/10 focus:border-black/20\"\n            aria-label={t(\"shop.search\") || \"Search\"}\n          />\n        </div>\n\n        {/* Filters */}\n        <div className=\"flex items-center gap-3\">\n          <label htmlFor=\"category\" className=\"sr-only\">\n            {t(\"shop.category\") || \"Category\"}\n          </label>\n          <select\n            id=\"category\"\n            value={selectedCategory}\n            onChange={(e) => {\n              setSelectedCategory(e.target.value as string | \"all\");\n              setPage(1);\n            }}\n            className=\"border border-gray-200 rounded-lg px-3 py-2 bg-white\"\n            aria-label={t(\"shop.category\") || \"Category\"}\n          >\n            {categories.map((c) => (\n              <option key={c.id} value={c.id}>\n                {c.name}\n              </option>\n            ))}\n          </select>\n\n          <label htmlFor=\"sort\" className=\"sr-only\">\n            {t(\"shop.sort\") || \"Sort\"}\n          </label>\n          <select\n            id=\"sort\"\n            value={sort}\n            onChange={(e) => {\n              setSort(e.target.value as \"relevance\" | \"price_asc\" | \"price_desc\" | \"newest\");\n              setPage(1);\n            }}\n            className=\"border border-gray-200 rounded-lg px-3 py-2 bg-white\"\n            aria-label={t(\"shop.sort\") || \"Sort\"}\n          >\n            <option value=\"relevance\">\n              {t(\"shop.sortRelevance\") || \"Relevance\"}\n            </option>\n            <option value=\"price_asc\">\n              {t(\"shop.sortPriceLow\") || \"Price: Low to High\"}\n            </option>\n            <option value=\"price_desc\">\n              {t(\"shop.sortPriceHigh\") || \"Price: High to Low\"}\n            </option>\n            <option value=\"newest\">{t(\"shop.sortNewest\") || \"Newest\"}</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Results info */}\n      <div className=\"mb-4 text-sm text-gray-600\">\n        {t(\"shop.resultsCount\", { count: filtered.length }) ??\n          `${filtered.length} products found`}\n      </div>\n\n      {/* Grid */}\n      {visibleProducts.length === 0 ? (\n        <div className=\"mt-8 text-center text-gray-500\">\n          {t(\"shop.noResults\") || \"No products match your search.\"}\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n          {visibleProducts.map((p) => (\n            <ProductCard key={p.id} product={p} />\n          ))}\n        </div>\n      )}\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <nav\n          aria-label=\"Pagination\"\n          className=\"mt-8 flex justify-center items-center gap-3\"\n        >\n          <button\n            onClick={() => setPage((s) => Math.max(1, s - 1))}\n            disabled={page === 1}\n            className=\"px-3 py-2 rounded-md border border-gray-200 bg-white disabled:opacity-50\"\n            aria-label={t(\"shop.prev\") || \"Previous\"}\n          >\n            ‹\n          </button>\n\n          <div className=\"flex items-center gap-1\">\n            {Array.from({ length: totalPages }).map((_, i) => {\n              const idx = i + 1;\n              return (\n                <button\n                  key={idx}\n                  onClick={() => setPage(idx)}\n                  aria-current={page === idx ? \"page\" : undefined}\n                  className={`px-3 py-2 rounded-md border ${\n                    page === idx ? \"bg-black text-white\" : \"bg-white\"\n                  } border-gray-200`}\n                >\n                  {idx}\n                </button>\n              );\n            })}\n          </div>\n\n          <button\n            onClick={() => setPage((s) => Math.min(totalPages, s + 1))}\n            disabled={page === totalPages}\n            className=\"px-3 py-2 rounded-md border border-gray-200 bg-white disabled:opacity-50\"\n            aria-label={t(\"shop.next\") || \"Next\"}\n          >\n            ›\n          </button>\n        </nav>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}